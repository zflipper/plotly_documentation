<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8"/>

    <!-- Media query magic - http://stackoverflow.com/questions/19945658/my-iphone-thinks-its-980px-wide -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="//cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="//load.sumome.com/" data-sumo-site-id="f3c81f006746fb000d45ff008ccf6600517dc0001fe60e0045e9200020854300" async="async"></script>

    <!--
    //// Stylesheets
     -->

    <!-- Fonts -->
    <link href="//fonts.googleapis.com/css?family=Open+Sans:600,400,300,200|Inconsolata|Ubuntu+Mono:400,700"
          rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

    <!-- code highlighting -->
    <link rel="stylesheet" href="//plot.ly/gh-pages/documentation/static/javascripts/codehighlight/styles/tomorrow.css">
    <link rel="stylesheet" type="text/css" href="//plot.ly/gh-pages/documentation/static/css/js-splash-highlight.css"/>

    <!-- Main Stylesheets -->
    <link rel="stylesheet" type="text/css" href="https://images.plot.ly/assets/css/normalize.css">
    <link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/main.css?version=6dfea547b0">

    <!-- LOCAL DEV STYLESHEET -->
    <!--<link rel="stylesheet" type="text/css" href="http://api.plotly.dev/all_static/css/main.css">-->

    <!-- Icon -->
    <link rel="shortcut icon" href="/images/plotly-ico.png" type="image/x-icon"/>


    <!-- META TAGS -->
    <!-- SEO Tags - title, meta_description -->
    <title>Markowitz</title>
    <meta name="description" content="Tutorial on the basic idea behind Markowitz portfolio optimization and how to do it with Python and plotly.">

<!-- Bing tags -->
    <meta name="msvalidate.01" content="D319859A832F9F1D15A7646E2A42150A" />
<!-- Facebook tags -->
    <meta property="og:title" content="Markowitz portfolio optimization"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://plot.ly/gh-pages/documentation/static//images/static-image">
    <meta property="og:description" content="Tutorial on the basic idea behind Markowitz portfolio optimization and how to do it with Python and plotly."/>
    <meta property="og:url" />
    <meta property="fb:admins" content="1123751525"/>
    <meta property="fb:admins" content="22418"/>

<!-- twitter tags -->
    <meta name="twitter:card" content="photo" />
    <meta name="twitter:title" content="Markowitz portfolio optimization"/>
    <meta name="twitter:url" content="http://help.plot.ly/ipython-notebooks/markowitz-portfolio-optimization"/>
    <meta name="twitter:description" content="Tutorial on the basic idea behind Markowitz portfolio optimization and how to do it with Python and plotly."/>
    <meta name="twitter:image" content="https://plot.ly/gh-pages/documentation/static//images/static-image">
    <meta name="twitter:site" content="@plotlygraphs"/>

<!-- Favicon -->
    <link rel="shortcut icon" href="https://plot.ly/gh-pages/documentation/static//images/plotly-ico.png?v=2" />



    

    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
            integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
            crossorigin="anonymous"></script>


</head>

<body data-spy="scroll" data-target=".watch" style="position:relative;">

<!--[if lt IE 10]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
	your browser</a> to improve your experience.</p>
<![endif]-->

<div class="header-large--wrap">
    <div class="header--blue-bg">


        <div class="--image"></div>
        <div class="header--meta-content">
            

            
        </div>
    </div>
</div>


<header data-spy="affix" data-offset-top="80" class="header-main --default">
    <div class="--wrap">
        <div class="--wrap-left"><a href="https://plot.ly/feed/" target="_blank" class="-identity">
            <div class="-identity">
                <div class="logo">
                    <svg width="50px" height="50px" viewBox="0 0 66 66" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g id="Asset-Exporting" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g id="Artboard-3" transform="translate(-50.000000, -123.000000)">
                                <g id="Group" transform="translate(50.000000, 123.000000)">
                                    <path d="M3,66 L63,66 C64.6565,66 66,64.6565 66,63 L66,3 C66,1.3435 64.6565,0 63,0 L3,0 C1.3435,0 0,1.3435 0,3 L0,63 C0,64.6565 1.3435,66 3,66" id="background" fill="#119DFF"></path>
                                    <g id="chart" transform="translate(12.000000, 12.000000)">
                                        <path d="M30,15 C30,16.6565 28.6565,18 27,18 C25.3435,18 24,16.6565 24,15 C24,13.3435 25.3435,12 27,12 C28.6565,12 30,13.3435 30,15" id="Fill-17" fill="#09FFFF"></path>
                                        <path d="M42,3 C42,4.6565 40.6565,6 39,6 C37.3435,6 36,4.6565 36,3 C36,1.3435 37.3435,0 39,0 C40.6565,0 42,1.3435 42,3" id="Fill-19" fill="#09FFFF"></path>
                                        <path d="M30,3 C30,4.6565 28.6565,6 27,6 C25.3435,6 24,4.6565 24,3 C24,1.3435 25.3435,0 27,0 C28.6565,0 30,1.3435 30,3" id="Fill-21" fill="#09FFFF"></path>
                                        <path d="M18,3 C18,4.6565 16.6565,6 15,6 C13.3435,6 12,4.6565 12,3 C12,1.3435 13.3435,0 15,0 C16.6565,0 18,1.3435 18,3" id="Fill-23" fill="#09FFFF"></path>
                                        <path d="M6,3 C6,4.6565 4.6565,6 3,6 C1.3435,6 5.55111512e-17,4.6565 5.55111512e-17,3 C5.55111512e-17,1.3435 1.3435,0 3,0 C4.6565,0 6,1.3435 6,3" id="Fill-25" fill="#09FFFF"></path>
                                        <path d="M6,15 C6,16.6565 4.6565,18 3,18 C1.3435,18 5.55111512e-17,16.6565 5.55111512e-17,15 C5.55111512e-17,13.3435 1.3435,12 3,12 C4.6565,12 6,13.3435 6,15" id="Fill-27" fill="#09FFFF"></path>
                                        <path d="M3,24 C1.343,24 5.55111512e-17,25.3435 5.55111512e-17,27 L5.55111512e-17,39 C5.55111512e-17,40.6565 1.343,42 3,42 C4.6565,42 6,40.6565 6,39 L6,27 C6,25.3435 4.6565,24 3,24" id="Fill-29" fill="#FFFFFF"></path>
                                        <path d="M27,24 C25.343,24 24,25.3435 24,27 L24,39 C24,40.6565 25.343,42 27,42 C28.6565,42 30,40.6565 30,39 L30,27 C30,25.3435 28.6565,24 27,24" id="Fill-31" fill="#FFFFFF"></path>
                                        <path d="M15,12 C13.343,12 12,13.3435 12,15 L12,39 C12,40.6565 13.343,42 15,42 C16.6565,42 18,40.6565 18,39 L18,15 C18,13.3435 16.6565,12 15,12" id="Fill-33" fill="#FFFFFF"></path>
                                        <path d="M39,12 C37.343,12 36,13.3435 36,15 L36,39 C36,40.6565 37.343,42 39,42 C40.6565,42 42,40.6565 42,39 L42,15 C42,13.3435 40.6565,12 39,12" id="Fill-35" fill="#FFFFFF"></path>
                                    </g>
                                </g>
                            </g>
                        </g>
                    </svg>
                </div>
                <h1 class="--name">plotly</h1>
            </div></a>
            <nav class="--nav-site">
                <ul>
                    <li><a href="https://support.plot.ly/plans" target="_blank"><span class="--item">Developer Support</span></a></li>
                    <li><a href="https://plotcon.plot.ly/" target="_blank"><span class="--item">PLOTCON</span></a></li>
                    <li><a href="https://plot.ly/products/consulting-and-oem/" target="_blank"><span class="--item">Consulting</span></a></li>
                </ul>
            </nav>
        </div>
        <div class="--wrap-right">
            <nav class="--nav-meta" role="navigation">
                <ul>
                    <li><a id="toolsignin" href="/settings" target="_self" class="button --enterprise-quaternary">SIGN IN</a></li>
                    <li><a id="signup" href="/settings" target="_self" class="button --enterprise-quaternary">SIGN UP</a></li>
                    <li><a href="https://plotly.typeform.com/to/seG7Vb" data-mode="1" target="_blank" onclick="window.mixpanel.track('Typeform demo request');" class="typeform-share button --enterprise-quaternary">REQUEST DEMO</a></li>
                    <!-- Adding product dropdown here -->
                    <!-- <li><a href="https://plot.ly/create/" class="button">PRODUCTS</a></li> -->
                </ul>
            </nav>
            <div class="mobile-menu-btn" ng-click="mobile = !mobile" ng-class="{'active': mobile}" style="cursor: pointer;">


                <div href="#" class="menu"><span></span></div>

            </div>
            <nav class="--nav-mobile">
                <ul>
                    <li><a href="https://plot.ly/feed/" target="_blank"><span class="--item">Feed</span></a></li>
                    <li><a href="https://plot.ly/products/cloud/" target="_blank"><span class="--item">Pricing</span></a></li>
                    <li><a href="https://plot.ly/alpha/workspace/" target="_blank"><span class="--item">Make a Chart</span></a></li>
                    <li><a href="https://plot.ly/api/" onmouseover="dropDownMenu('api-menu')" onmouseout="hideDropDownMenu('api-menu')" target="_self"><span class="--item">API
                    <div class="icon">
                        <svg style="width:24px;height:24px" viewbox="0 0 24 24"></svg>
                        <path fill="#000000" d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"></path>
                    </div></span></a></li>
                    <li class="tablet"><a id="toolsignin" href="/settings" target="_self" class="headerbar-nav-item --product-header">
                        Sign
                        In</a></li>
                    <li class="tablet"><a id="signup" href="/settings" target="_self" class="button --enterprise-quaternary">SIGN UP</a></li>
                    <li class="tablet"><a href="https://plot.ly/alpha/workspace/ " class="button">+ NEW PROJECT</a></li>
                    <li class="tablet"><a href="https://plot.ly/products/cloud/" class="button">UPGRADE</a></li>
                    <li class="tablet"><a href="https://plotly.typeform.com/to/seG7Vb" data-mode="1" target="_blank" onclick="window.mixpanel.track('Typeform demo request');" class="typeform-share button --enterprise-quaternary">
                        REQUEST
                        DEMO</a></li>
                </ul>
            </nav>
        </div>
    </div>
</header>

<section class="--breadcrumb-container"  data-spy="affix" data-offset-top="435">
    <div class="--wrap">

        <!--
            Show this if page is too thin (hides breadcrumb list)
            Toggles sidebar slide in/out (see main.js)
        -->
        <a class="toggle-sidebar">
            <div class="icon">
                <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                    <path fill="#000000" d="M5,13L9,17L7.6,18.42L1.18,12L7.6,5.58L9,7L5,11H21V13H5M21,6V8H11V6H21M21,16V18H11V16H21Z" />
                </svg>
            </div>
            <span class="show">Show Sidebar</span>
            <span class="hide">Hide Sidebar</span>
        </a>

        <!--
            Breadcrumb List
        -->
        <ul class="--breadcrumb-list">
            <li class="--breadcrumb-item">
                <div class="icon">
                    <svg style="width:24px;height:24px" viewbox="0 0 24 24">
                        <path fill="#000000" d="M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"></path>
                    </svg>
                </div>
                <a href="http://help.plot.ly/"><span>Help</span></a>
            </li>
            <li class="--breadcrumb-item"><a href="/api/"><span>API Libraries</span></a></li>
            
            <li class="--breadcrumb-item">
                <a href="/python"  ><span>Python</span></a>
            </li>
            

            
            

            <li class="--breadcrumb-item">
                <span>Markowitz portfolio optimization</span>
            </li>
            

            
        </ul>

        <!--
            Fork on Github :)
        -->
        <div class="--fork">
            
            <a id="forklink" href="https://github.com/plotly/plotly.py">
                <div class="icon">
                    <svg style="width:24px;height:24px" viewbox="0 0 24 24">
                        <path fill="#000000" d="M2.6,10.59L8.38,4.8L10.07,6.5C9.83,7.35 10.22,8.28 11,8.73V14.27C10.4,14.61 10,15.26 10,16A2,2 0 0,0 12,18A2,2 0 0,0 14,16C14,15.26 13.6,14.61 13,14.27V9.41L15.07,11.5C15,11.65 15,11.82 15,12A2,2 0 0,0 17,14A2,2 0 0,0 19,12A2,2 0 0,0 17,10C16.82,10 16.65,10 16.5,10.07L13.93,7.5C14.19,6.57 13.71,5.55 12.78,5.16C12.35,5 11.9,4.96 11.5,5.07L9.8,3.38L10.59,2.6C11.37,1.81 12.63,1.81 13.41,2.6L21.4,10.59C22.19,11.37 22.19,12.63 21.4,13.41L13.41,21.4C12.63,22.19 11.37,22.19 10.59,21.4L2.6,13.41C1.81,12.63 1.81,11.37 2.6,10.59Z"></path>
                    </svg>
                </div>
                <span>Fork on Github</span>
            </a>
            
    </div>
</section>


<main class="--page page--single --index">

	<div class="--wrap">
		<!-- aside - Main Sidebar-->
		<aside class="--sidebar-container">
			<div class="--sidebar-fixed reference" data-spy="affix" data-offset-top="435" data-offset-bottom="610" id="where">
				<header class="--sidebar-header">Navigation</header>
				<nav class="--sidebar-body watch"   id="where">
					<ul class="--sidebar-list">

						<li class="--sidebar-item">
							

						</li>
					</ul>
					
					<button class="--btn back">
						<div>
							<img class="--icon-notebook" src="https://plot.ly/gh-pages/documentation/static/images/notebook@2x.png" alt="notebook">
						</div>
						<span><a href="//">Download <b>THIS</b> Notebook!</a></span>
					</button>
					
					<button class="--btn back">
						<div class="icon">
							<svg style="width:24px;height:24px" viewBox="0 0 24 24">
								<path fill="#000000"
									  d="M20,10V14H11L14.5,17.5L12.08,19.92L4.16,12L12.08,4.08L14.5,6.5L11,10H20Z"/>
							</svg>
						</div>
						<span><a href="/python/">Back to Python</a></span>
					</button>
				</nav>
			</div>
		</aside>
		<!-- Main-->
		<section class="--page-body --tutorial-index --base">
			<header class="--welcome">
				<div class="--welcome-body">
					<!--div.--wrap-inner-->
					<div class="--title">
						<div class="--category-img">

							
							
							<img src="https://images.plot.ly/language-icons/api-home/python-logo.png" alt="">
							
							
							
							
							
							
							
							
							

						</div>
						<div class="--body">
							
							
							<h1>
								Markowitz portfolio optimization in Python
							</h1>
							<p>Tutorial on the basic idea behind Markowitz portfolio optimization and how to do it with Python and plotly. </p>

							
								<nav class="lang-nav">
		<ul class="lang-nav--list">


	
	

	

	

	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
		
		
		

		
		
		
		
		
		
		
	
			</ul>
		</nav>

							
						</div>
					</div>
				</div>
			</header>

			<!-- Start Plotly Basics Section -->
			<section class="tutorial-content">
				
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Markowitz-Portfolio-Optimization-in-Python">Markowitz Portfolio Optimization in Python<a class="anchor-link" href="#Markowitz-Portfolio-Optimization-in-Python">&#182;</a></h2><p>Authors: Dr. Thomas Starke, David Edwards, Dr. Thomas Wiecki</p>
<h3 id="About-the-author:">About the author:<a class="anchor-link" href="#About-the-author:">&#182;</a></h3><p>Today's blog post is written in collaboration with <a href="http://drtomstarke.com/">Dr. Thomas Starke</a>. It is based on a longer whitepaper by Thomas Starke on the relationship between Markowitz portfolio optimization and Kelly optimization. The full whitepaper can be found <a href="http://eepurl.com/4Pgrv">here</a>.</p>
<h3 id="Introduction">Introduction<a class="anchor-link" href="#Introduction">&#182;</a></h3><p>In this blog post you will learn about the basic idea behind Markowitz portfolio optimization as well as how to do it in Python. We will then show how you can create a simple backtest that rebalances its portfolio in a Markowitz-optimal way. We hope you enjoy it and get a little more enlightened in the process.</p>
<p>We will start by using random data and only later use actual stock data. This will hopefully help you to get a sense of how to use modelling and simulation to improve your understanding of the theoretical concepts. Don‘t forget that the skill of an algo-trader is to put mathematical models into code and this example is great practice.</p>
<p>Let's start with importing a few modules, which we need later and produce a series of normally distributed returns. <code>cvxopt</code> is a convex solver which you can easily download with
<code>sudo pip install cvxopt</code>.</p>
<h3 id="Simulations">Simulations<a class="anchor-link" href="#Simulations">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">cvxopt</span> <span class="kn">as</span> <span class="nn">opt</span>
<span class="kn">from</span> <span class="nn">cvxopt</span> <span class="kn">import</span> <span class="n">blas</span><span class="p">,</span> <span class="n">solvers</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>

<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>

<span class="c"># Turn off progress printing </span>
<span class="n">solvers</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s">&#39;show_progress&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">import</span> <span class="nn">plotly</span>
<span class="kn">import</span> <span class="nn">cufflinks</span>
<span class="n">plotly</span><span class="o">.</span><span class="n">__version__</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[2]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>&apos;1.4.7&apos;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># (*) To communicate with Plotly&#39;s server, sign in with credentials file</span>
<span class="kn">import</span> <span class="nn">plotly.plotly</span> <span class="kn">as</span> <span class="nn">py</span>  

<span class="c"># (*) Useful Python/Plotly tools</span>
<span class="kn">import</span> <span class="nn">plotly.tools</span> <span class="kn">as</span> <span class="nn">tls</span>   

<span class="c"># (*) Graph objects to piece together plots</span>
<span class="kn">from</span> <span class="nn">plotly.graph_objs</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Assume that we have 4 assets, each with a return series of length 1000. We can use <code>numpy.random.randn</code> to sample returns from a normal distribution.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c">## NUMBER OF ASSETS</span>
<span class="n">n_assets</span> <span class="o">=</span> <span class="mi">4</span>

<span class="c">## NUMBER OF OBSERVATIONS</span>
<span class="n">n_obs</span> <span class="o">=</span> <span class="mi">1000</span>

<span class="n">return_vec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">n_assets</span><span class="p">,</span> <span class="n">n_obs</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">return_vec</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=.</span><span class="mi">4</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;time&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;returns&#39;</span><span class="p">)</span>
<span class="n">py</span><span class="o">.</span><span class="n">iplot_mpl</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">&#39;s6_damped_oscillation&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[5]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<iframe id="igraph" scrolling="no" style="border:none;"seamless="seamless" src="https://plot.ly/~twiecki/3.embed" height="525" width="100%"></iframe>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>These return series can be used to create a wide range of portfolios, which all
have different returns and risks (standard deviation). We can produce a wide range
of random weight vectors and plot those portfolios. As we want all our capital to be invested, this vector will have to some to one.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="k">def</span> <span class="nf">rand_weights</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Produces n random weights that sum to 1 &#39;&#39;&#39;</span>
    <span class="n">k</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">k</span> <span class="o">/</span> <span class="nb">sum</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>

<span class="k">print</span> <span class="n">rand_weights</span><span class="p">(</span><span class="n">n_assets</span><span class="p">)</span>
<span class="k">print</span> <span class="n">rand_weights</span><span class="p">(</span><span class="n">n_assets</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[ 0.54066805  0.2360283   0.11660484  0.1066988 ]
[ 0.27638339  0.03006307  0.47850085  0.21505269]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next, lets evaluate how many of these random portfolios would perform. Towards this goal we are calculating the mean returns as well as the volatility (here we are using standard deviation). You can also see that there is
a filter that only allows to plot portfolios with a standard deviation of &lt; 2 for better illustration.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="k">def</span> <span class="nf">random_portfolio</span><span class="p">(</span><span class="n">returns</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; </span>
<span class="sd">    Returns the mean and standard deviation of returns for a random portfolio</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asmatrix</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">returns</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asmatrix</span><span class="p">(</span><span class="n">rand_weights</span><span class="p">(</span><span class="n">returns</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asmatrix</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">cov</span><span class="p">(</span><span class="n">returns</span><span class="p">))</span>
    
    <span class="n">mu</span> <span class="o">=</span> <span class="n">w</span> <span class="o">*</span> <span class="n">p</span><span class="o">.</span><span class="n">T</span>
    <span class="n">sigma</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">w</span> <span class="o">*</span> <span class="n">C</span> <span class="o">*</span> <span class="n">w</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
    
    <span class="c"># This recursion reduces outliers to keep plots pretty</span>
    <span class="k">if</span> <span class="n">sigma</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">random_portfolio</span><span class="p">(</span><span class="n">returns</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">mu</span><span class="p">,</span> <span class="n">sigma</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In the code you will notice the calculation of the return with:</p>
$$ R = p^T w $$<p>where $R$ is the expected return, $p^T$ is the transpose of the vector for the mean
returns for each time series and w is the weight vector of the portfolio. $p$ is a Nx1
column vector, so $p^T$ turns into a 1xN row vector which can be multiplied with the
Nx1 weight (column) vector w to give a scalar result. This is equivalent to the dot
product used in the code. Keep in mind that <code>Python</code> has a reversed definition of
rows and columns and the accurate <code>NumPy</code> version of the previous equation would
be <code>R = w * p.T</code></p>
<p>Next, we calculate the standard deviation with</p>
$$\sigma = \sqrt{w^T C w}$$<p>where $C$ is the covariance matrix of the returns which is a NxN matrix. Please
note that if we simply calculated the simple standard deviation with the appropriate weighting using <code>std(array(ret_vec).T*w)</code> we would get a slightly different
’bullet’. This is because the simple standard deviation calculation would not take
covariances into account. In the covariance matrix, the values of the diagonal
represent the simple variances of each asset while the off-diagonals are the variances between the assets. By using ordinary <code>std()</code> we effectively only regard the
diagonal and miss the rest. A small but significant difference.</p>
<p>Lets generate the mean returns and volatility for 500 random portfolios:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">n_portfolios</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">means</span><span class="p">,</span> <span class="n">stds</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">column_stack</span><span class="p">([</span>
    <span class="n">random_portfolio</span><span class="p">(</span><span class="n">return_vec</span><span class="p">)</span> 
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">n_portfolios</span><span class="p">)</span>
<span class="p">])</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Upon plotting those you will observe that they form a characteristic parabolic
shape called the ‘Markowitz bullet‘ with the boundaries being called the ‘efficient
frontier‘, where we have the lowest variance for a given expected.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">stds</span><span class="p">,</span> <span class="n">means</span><span class="p">,</span> <span class="s">&#39;o&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;std&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;mean&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&#39;Mean and standard deviation of returns of randomly generated portfolios&#39;</span><span class="p">)</span>
<span class="n">py</span><span class="o">.</span><span class="n">iplot_mpl</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">&#39;mean_std&#39;</span><span class="p">,</span> <span class="n">strip_style</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stderr output_text">
<pre>/home/wiecki/envs/zipline_p14/local/lib/python2.7/site-packages/plotly/matplotlylib/renderer.py:514: UserWarning:

Looks like the annotation(s) you are trying 
to draw lies/lay outside the given figure size.

Therefore, the resulting Plotly figure may not be 
large enough to view the full text. To adjust 
the size of the figure, use the &apos;width&apos; and 
&apos;height&apos; keys in the Layout object. Alternatively,
use the Margin object to adjust the figure&apos;s margins.

</pre>
</div>
</div>

<div class="output_area"><div class="prompt output_prompt">Out[9]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<iframe id="igraph" scrolling="no" style="border:none;"seamless="seamless" src="https://plot.ly/~twiecki/16.embed" height="525" width="100%"></iframe>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Markowitz-optimization-and-the-Efficient-Frontier">Markowitz optimization and the Efficient Frontier<a class="anchor-link" href="#Markowitz-optimization-and-the-Efficient-Frontier">&#182;</a></h3><p>Once we have a good representation of our portfolios as the blue dots show we can calculate the efficient frontier Markowitz-style. This is done by minimising</p>
$$ w^T C w$$<p>for $w$ on the expected portfolio return $R^T w$ whilst keeping the sum of all the
weights equal to 1:</p>
$$ \sum_{i}{w_i} = 1 $$<p>Here we parametrically run through $R^T w = \mu$ and find the minimum variance
for different $\mu$‘s. This can be done with <code>scipy.optimise.minimize</code> but we have
to define quite a complex problem with bounds, constraints and a Lagrange multiplier. Conveniently, the <code>cvxopt</code> package, a convex solver, does all of that for us. We used one of their <a href="http://cvxopt.org/examples/">examples</a> with some modifications as shown below. You will notice that there are some conditioning expressions in the code. They are simply needed to set up the problem. For more information please have a look at the <code>cvxopt</code> example.</p>
<p>The <code>mus</code> vector produces a series of expected return values $\mu$ in a non-linear and more appropriate way. We will see later that we don‘t need to calculate a lot of these as they perfectly fit a parabola, which can safely be extrapolated for higher values.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="k">def</span> <span class="nf">optimal_portfolio</span><span class="p">(</span><span class="n">returns</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">returns</span><span class="p">)</span>
    <span class="n">returns</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asmatrix</span><span class="p">(</span><span class="n">returns</span><span class="p">)</span>
    
    <span class="n">N</span> <span class="o">=</span> <span class="mi">100</span>
    <span class="n">mus</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="o">**</span><span class="p">(</span><span class="mf">5.0</span> <span class="o">*</span> <span class="n">t</span><span class="o">/</span><span class="n">N</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)]</span>
    
    <span class="c"># Convert to cvxopt matrices</span>
    <span class="n">S</span> <span class="o">=</span> <span class="n">opt</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">cov</span><span class="p">(</span><span class="n">returns</span><span class="p">))</span>
    <span class="n">pbar</span> <span class="o">=</span> <span class="n">opt</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">returns</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
    
    <span class="c"># Create constraint matrices</span>
    <span class="n">G</span> <span class="o">=</span> <span class="o">-</span><span class="n">opt</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>   <span class="c"># negative n x n identity matrix</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">opt</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="p">(</span><span class="n">n</span> <span class="p">,</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">opt</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">opt</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
    
    <span class="c"># Calculate efficient frontier weights using quadratic programming</span>
    <span class="n">portfolios</span> <span class="o">=</span> <span class="p">[</span><span class="n">solvers</span><span class="o">.</span><span class="n">qp</span><span class="p">(</span><span class="n">mu</span><span class="o">*</span><span class="n">S</span><span class="p">,</span> <span class="o">-</span><span class="n">pbar</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">b</span><span class="p">)[</span><span class="s">&#39;x&#39;</span><span class="p">]</span> 
                  <span class="k">for</span> <span class="n">mu</span> <span class="ow">in</span> <span class="n">mus</span><span class="p">]</span>
    <span class="c">## CALCULATE RISKS AND RETURNS FOR FRONTIER</span>
    <span class="n">returns</span> <span class="o">=</span> <span class="p">[</span><span class="n">blas</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">pbar</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">portfolios</span><span class="p">]</span>
    <span class="n">risks</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">blas</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">S</span><span class="o">*</span><span class="n">x</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">portfolios</span><span class="p">]</span>
    <span class="c">## CALCULATE THE 2ND DEGREE POLYNOMIAL OF THE FRONTIER CURVE</span>
    <span class="n">m1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">returns</span><span class="p">,</span> <span class="n">risks</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">x1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">m1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="n">m1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="c"># CALCULATE THE OPTIMAL PORTFOLIO</span>
    <span class="n">wt</span> <span class="o">=</span> <span class="n">solvers</span><span class="o">.</span><span class="n">qp</span><span class="p">(</span><span class="n">opt</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span><span class="n">x1</span> <span class="o">*</span> <span class="n">S</span><span class="p">),</span> <span class="o">-</span><span class="n">pbar</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">b</span><span class="p">)[</span><span class="s">&#39;x&#39;</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">wt</span><span class="p">),</span> <span class="n">returns</span><span class="p">,</span> <span class="n">risks</span>

<span class="n">weights</span><span class="p">,</span> <span class="n">returns</span><span class="p">,</span> <span class="n">risks</span> <span class="o">=</span> <span class="n">optimal_portfolio</span><span class="p">(</span><span class="n">return_vec</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">stds</span><span class="p">,</span> <span class="n">means</span><span class="p">,</span> <span class="s">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;mean&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;std&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">risks</span><span class="p">,</span> <span class="n">returns</span><span class="p">,</span> <span class="s">&#39;y-o&#39;</span><span class="p">)</span>
<span class="n">py</span><span class="o">.</span><span class="n">iplot_mpl</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">&#39;efficient_frontier&#39;</span><span class="p">,</span> <span class="n">strip_style</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[10]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<iframe id="igraph" scrolling="no" style="border:none;"seamless="seamless" src="https://plot.ly/~twiecki/17.embed" height="525" width="100%"></iframe>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In yellow you can see the optimal portfolios for each of the desired returns (i.e. the <code>mus</code>). In addition, we get the one optimal portfolio returned:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="k">print</span> <span class="n">weights</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[[  2.77880107e-09]
 [  3.20322848e-06]
 [  1.54301198e-06]
 [  9.99995251e-01]]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Backtesting-on-real-market-data">Backtesting on real market data<a class="anchor-link" href="#Backtesting-on-real-market-data">&#182;</a></h3><p>This is all very interesting but not very applied. We next demonstrate how you can create a simple algorithm in <a href="http://github.com/quantopian/zipline"><code>zipline</code></a> -- the open-source backtester that powers <a href="https://www.quantopian.com">Quantopian</a> -- to test this optimization on actual historical stock data.</p>
<p>First, lets load in some historical data using <a href="https://www.quantopian.com">Quantopian</a>'s data (if we are running in the <a href="http://blog.quantopian.com/quantopian-research-your-backtesting-data-meets-ipython-notebook/">Quantopian Research Platform</a>, or the <code>load_bars_from_yahoo()</code> function from <code>zipline</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">from</span> <span class="nn">zipline.utils.factory</span> <span class="kn">import</span> <span class="n">load_bars_from_yahoo</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">end</span> <span class="o">-</span> <span class="mi">2500</span> <span class="o">*</span> <span class="n">pd</span><span class="o">.</span><span class="n">tseries</span><span class="o">.</span><span class="n">offsets</span><span class="o">.</span><span class="n">BDay</span><span class="p">()</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">load_bars_from_yahoo</span><span class="p">(</span><span class="n">stocks</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;IBM&#39;</span><span class="p">,</span> <span class="s">&#39;GLD&#39;</span><span class="p">,</span> <span class="s">&#39;XOM&#39;</span><span class="p">,</span> <span class="s">&#39;AAPL&#39;</span><span class="p">,</span> 
                                    <span class="s">&#39;MSFT&#39;</span><span class="p">,</span> <span class="s">&#39;TLT&#39;</span><span class="p">,</span> <span class="s">&#39;SHY&#39;</span><span class="p">],</span>
                            <span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">end</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>IBM
GLD
XOM
AAPL
MSFT
TLT
SHY
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="p">:,</span> <span class="s">&#39;price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s">&#39;prices&#39;</span><span class="p">,</span> <span class="n">yTitle</span><span class="o">=</span><span class="s">&#39;price in $&#39;</span><span class="p">,</span> <span class="n">world_readable</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">asDates</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[9]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<iframe id="igraph" scrolling="no" style="border:none;"seamless="seamless" src="https://plot.ly/~twiecki/19.embed" height="525" width="100%"></iframe>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next, we'll create a <code>zipline</code> algorithm by defining two functions -- <code>initialize()</code> which is called once before the simulation starts, and <code>handle_data()</code> which is called for every trading bar. We then instantiate the algorithm object.</p>
<p>If you are confused about the syntax of <code>zipline</code>, check out the <a href="http://nbviewer.ipython.org/github/quantopian/zipline/blob/master/docs/notebooks/tutorial.ipynb">tutorial</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">import</span> <span class="nn">zipline</span>
<span class="kn">from</span> <span class="nn">zipline.api</span> <span class="kn">import</span> <span class="p">(</span><span class="n">add_history</span><span class="p">,</span> 
                         <span class="n">history</span><span class="p">,</span> 
                         <span class="n">set_slippage</span><span class="p">,</span> 
                         <span class="n">slippage</span><span class="p">,</span>
                         <span class="n">set_commission</span><span class="p">,</span> 
                         <span class="n">commission</span><span class="p">,</span> 
                         <span class="n">order_target_percent</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">zipline</span> <span class="kn">import</span> <span class="n">TradingAlgorithm</span>


<span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">context</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Called once at the very beginning of a backtest (and live trading). </span>
<span class="sd">    Use this method to set up any bookkeeping variables.</span>
<span class="sd">    </span>
<span class="sd">    The context object is passed to all the other methods in your algorithm.</span>

<span class="sd">    Parameters</span>

<span class="sd">    context: An initialized and empty Python dictionary that has been </span>
<span class="sd">             augmented so that properties can be accessed using dot </span>
<span class="sd">             notation as well as the traditional bracket notation.</span>
<span class="sd">    </span>
<span class="sd">    Returns None</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="c"># Register history container to keep a window of the last 100 prices.</span>
    <span class="n">add_history</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="s">&#39;1d&#39;</span><span class="p">,</span> <span class="s">&#39;price&#39;</span><span class="p">)</span>
    <span class="c"># Turn off the slippage model</span>
    <span class="n">set_slippage</span><span class="p">(</span><span class="n">slippage</span><span class="o">.</span><span class="n">FixedSlippage</span><span class="p">(</span><span class="n">spread</span><span class="o">=</span><span class="mf">0.0</span><span class="p">))</span>
    <span class="c"># Set the commission model (Interactive Brokers Commission)</span>
    <span class="n">set_commission</span><span class="p">(</span><span class="n">commission</span><span class="o">.</span><span class="n">PerShare</span><span class="p">(</span><span class="n">cost</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">min_trade_cost</span><span class="o">=</span><span class="mf">1.0</span><span class="p">))</span>
    <span class="n">context</span><span class="o">.</span><span class="n">tick</span> <span class="o">=</span> <span class="mi">0</span>
    
<span class="k">def</span> <span class="nf">handle_data</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Called when a market event occurs for any of the algorithm&#39;s </span>
<span class="sd">    securities. </span>

<span class="sd">    Parameters</span>

<span class="sd">    data: A dictionary keyed by security id containing the current </span>
<span class="sd">          state of the securities in the algo&#39;s universe.</span>

<span class="sd">    context: The same context object from the initialize function.</span>
<span class="sd">             Stores the up to date portfolio as well as any state </span>
<span class="sd">             variables defined.</span>

<span class="sd">    Returns None</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="c"># Allow history to accumulate 100 days of prices before trading</span>
    <span class="c"># and rebalance every day thereafter.</span>
    <span class="n">context</span><span class="o">.</span><span class="n">tick</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">context</span><span class="o">.</span><span class="n">tick</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="c"># Get rolling window of past prices and compute returns</span>
    <span class="n">prices</span> <span class="o">=</span> <span class="n">history</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="s">&#39;1d&#39;</span><span class="p">,</span> <span class="s">&#39;price&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
    <span class="n">returns</span> <span class="o">=</span> <span class="n">prices</span><span class="o">.</span><span class="n">pct_change</span><span class="p">()</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c"># Perform Markowitz-style portfolio optimization</span>
        <span class="n">weights</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">optimal_portfolio</span><span class="p">(</span><span class="n">returns</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
        <span class="c"># Rebalance portfolio accordingly</span>
        <span class="k">for</span> <span class="n">stock</span><span class="p">,</span> <span class="n">weight</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">prices</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">weights</span><span class="p">):</span>
            <span class="n">order_target_percent</span><span class="p">(</span><span class="n">stock</span><span class="p">,</span> <span class="n">weight</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="c"># Sometimes this error is thrown</span>
        <span class="c"># ValueError: Rank(A) &lt; p or Rank([P; A; G]) &lt; n</span>
        <span class="k">pass</span>
        
<span class="c"># Instantinate algorithm        </span>
<span class="n">algo</span> <span class="o">=</span> <span class="n">TradingAlgorithm</span><span class="p">(</span><span class="n">initialize</span><span class="o">=</span><span class="n">initialize</span><span class="p">,</span> 
                        <span class="n">handle_data</span><span class="o">=</span><span class="n">handle_data</span><span class="p">)</span>
<span class="c"># Run algorithm</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">algo</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">results</span><span class="o">.</span><span class="n">portfolio_value</span><span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s">&#39;algo_perf&#39;</span><span class="p">,</span> <span class="n">yTitle</span><span class="o">=</span><span class="s">&#39;Cumulative capital in $&#39;</span><span class="p">,</span> <span class="n">world_readable</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">asDates</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stderr output_text">
<pre>[2015-03-02 09:52] INFO: Performance: Simulated 2411 trading days out of 2411.
[2015-03-02 09:52] INFO: Performance: first open: 2005-08-01 13:31:00+00:00
[2015-03-02 09:52] INFO: Performance: last close: 2015-02-27 21:00:00+00:00
</pre>
</div>
</div>

<div class="output_area"><div class="prompt output_prompt">Out[14]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<iframe id="igraph" scrolling="no" style="border:none;"seamless="seamless" src="https://plot.ly/~twiecki/20.embed" height="525" width="100%"></iframe>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As you can see, the performance here is pretty good, even through the 2008 financial crisis. This is most likely due to our universe selection and shouldn't always be expected. Increasing the number of stocks in the universe might reduce the volatility as well. Please let us know in the comments section if you had any success with this strategy and how many stocks you used.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Conclusions">Conclusions<a class="anchor-link" href="#Conclusions">&#182;</a></h3><p>In this blog post, co-written by Quantopian friend <a href="http://drtomstarke.com/">Dr. Thomas Starke</a>, we wanted to provide an intuitive and gentle introduction to Markowitz portfolio optimization which still remains relevant today. By using simulation of various random portfolios we have seen that certain portfolios perform better than others. Convex optimization using <code>cvxopt</code> allowed us to then numerically determine the portfolios that live on the <em>efficient frontier</em>. The zipline backtest serves as an example but also shows compelling performance.</p>
<h3 id="Next-steps">Next steps<a class="anchor-link" href="#Next-steps">&#182;</a></h3><ul>
<li>Clone this notebook in the <a href="http://blog.quantopian.com/quantopian-research-your-backtesting-data-meets-ipython-notebook/">Quantopian Research Platform</a> and run it on your own to see if you can enhance the performance. </li>
<li>You can also download just the notebook for use in your own environment <a href="https://raw.githubusercontent.com/quantopian/research_public/master/Markowitz-blog.ipynb">here</a>.</li>
<li>Read a recent interview with Harry Markowitz: <a href="http://www.brunodefinetti.it/Spigolature/whatdoesharrymarkowitzthink.pdf">What Does Harry Markowitz Think?</a></li>
<li>In a future blog post we will outline the connections to Kelly optimization which also tells us the amount of leverage to use.</li>
<li>We are currently in the process of adding <code>cvxopt</code> to the Quantopian backtester -- stay tuned!</li>
</ul>

</div>
</div>
</div>

			</section>
			<!--End Plotly Basics Section-->
		</section>
	</div>

</main>

<section class="--help-box">
    <div class="--wrap">
        <header class="--title">Still need help?</header>
        <div class="--body">
            <h5>Contact Us</h5>
            <ul class="--help-contact">
                <li><a href="http://community.plot.ly/">
                    <div class="icon">
                        <svg style="width:24px;height:24px" viewbox="0 0 24 24">
                            <path fill="#000000"
                                  d="M17,12V3A1,1 0 0,0 16,2H3A1,1 0 0,0 2,3V17L6,13H16A1,1 0 0,0 17,12M21,6H19V15H6V17A1,1 0 0,0 7,18H18L22,22V7A1,1 0 0,0 21,6Z"></path>
                        </svg>
                    </div>
                    community.plot.ly</a></li>
                <li><a href="https://support.plot.ly">
                    <div class="icon">
                        <svg style="width:24px;height:24px" viewbox="0 0 24 24">
                            <path fill="#000000"
                                  d="M14.9,6.707c-0.804-2.497-3.649-4.351-7.035-4.351c-4.008,0-7.27,2.594-7.27,5.782
                                c0,2.163,1.516,4.133,3.903,5.122v3.091c0,0.251,0.144,0.478,0.372,0.586c0.087,0.042,0.182,0.062,0.276,0.062
                                c0.148,0,0.295-0.051,0.412-0.15l3.678-3.038c0.14-0.022,0.275-0.057,0.413-0.084c0.655,0.666,1.544,1.185,2.607,1.46
                                c0.198,0.051,0.401,0.094,0.608,0.125l2.641,2.182c0.118,0.099,0.264,0.15,0.413,0.15c0.094,0,0.188-0.02,0.276-0.062
                                c0.228-0.108,0.372-0.335,0.372-0.586v-2.135c1.74-0.761,2.84-2.231,2.84-3.846C19.405,8.862,17.456,7.073,14.9,6.707z
                                 M8.885,12.552c-0.019,0.003-0.032,0.018-0.051,0.022c-0.101,0.022-0.2,0.056-0.281,0.123l-2.76,2.28v-2.161
                                c0-0.275-0.175-0.521-0.434-0.612C3.253,11.467,1.89,9.871,1.89,8.138c0-2.474,2.68-4.487,5.975-4.487
                                c2.604,0,4.801,1.265,5.617,3.014c0.187,0.401,0.302,0.823,0.33,1.268c0.005,0.069,0.028,0.134,0.028,0.205
                                c0,1.819-1.481,3.438-3.706,4.129c-0.115,0.037-0.224,0.08-0.343,0.111C9.497,12.455,9.196,12.513,8.885,12.552z M15.703,13.809
                                c-0.259,0.091-0.434,0.336-0.434,0.612v1.199l-1.723-1.422c-0.095-0.079-0.211-0.129-0.333-0.144
                                c-0.219-0.028-0.431-0.068-0.636-0.121c-0.545-0.14-1.023-0.364-1.433-0.64c2.423-0.969,3.99-2.942,3.99-5.155
                                c0-0.024-0.004-0.047-0.005-0.071c1.718,0.385,2.98,1.553,2.98,2.948C18.11,12.202,17.165,13.299,15.703,13.809z"></path>
                                <path fill="none" d="M4.68,7.591h6.167c0.358,0,0.648-0.29,0.648-0.648s-0.29-0.648-0.648-0.648H4.68
                                c-0.358,0-0.648,0.29-0.648,0.648S4.323,7.591,4.68,7.591z"></path>
                                <path fill="none" d="M8.709,8.636H4.68c-0.358,0-0.648,0.29-0.648,0.648c0,0.358,0.29,0.648,0.648,0.648h4.028
                                c0.358,0,0.648-0.29,0.648-0.648C9.356,8.926,9.067,8.636,8.709,8.636z"></path>
                        </svg>
                    </div>
                    support.plot.ly</a></li>
                <li><a href="https://github.com/plotly">
                    <div class="icon">
                        <svg style="width:24px;height:24px" viewbox="0 0 24 24">
                            <path fill="#000000"
                                  d="M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z"></path>
                        </svg>
                    </div>
                    github.com/plotly</a></li>
            </ul>
            <div class="--cta">
                <p>For guaranteed 24 hour response turnarounds, upgrade to a <a href="https://support.plot.ly/plans" style="color: #555;">Developer Support Plan.</a></p>
            </div>
        </div>
    </div>
</section>

<script>

    var array = [];

    $('.tutorial-content :header:not(h6)').each(function (i, e) {

        var item = $(e);
        var itemText = item.text();


        var hash = itemText.replace(/[^a-z0-9\s]/gi, '').replace(/[_\s]/g, '-').replace(/^-+|-+$/g, '').toLowerCase();
        console.log(hash);
        item.attr("id", hash);

        array.push(itemText);

    });

    $(".--sidebar-list").html(array.map(function(value) {
        var hash = value.replace(/[^a-z0-9\s]/gi, '').replace(/[_\s]/g, '-').replace(/^-+|-+$/g, '').toLowerCase();
        return('<li class="--sidebar-item"><a href="#' + hash + '">' + value.replace(/[^a-z0-9\s\.:]/gi, '') + '</a></li>');
    }).join(""));


    $(".tutorial-content :header:not(h6)").append( "\<div class=\"icon copy\" data-tooltip=\"Click to copy direct link\"><svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\"><path fill=\"#000000\" d=\"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z\"/> </svg> </div>");

</script>


<footer class="--footer-main">
    <section class="--footer-top">
        <div class="--wrap">
            <ul class="--footer-body">
                <li class="--footer-column">
                    <h6 class="--footer-heading">API</h6>&#x9;&#x9;&#x9;
                    <ul>
                        <li><a href="https://plot.ly/api/" target="_self">Documentation</a></li>
                        &#x9;&#x9;&#x9;&#x9;
                        <li><a href="https://plot.ly/api/" target="_self">API Libraries</a></li>
                        &#x9;&#x9;&#x9;&#x9;
                        <li><a href="https://plot.ly/rest/" target="_self">REST APIs</a></li>
                        &#x9;&#x9;&#x9;&#x9;
                        <li><a href="https://plot.ly/javascript/" target="_self">Plotly.js</a></li>
                        &#x9;&#x9;&#x9;&#x9;
                        <li><a href="https://plot.ly/workshop/" target="_self">Hardware</a></li>
                    </ul>
                </li>
                &#x9;&#x9;
                <li class="--footer-column">
                    <h6 class="--footer-heading">About Us</h6>&#x9;&#x9;&#x9;
                    <ul>
                        <li><a href="https://plot.ly/company/team/" target="_self">Team</a></li>
                        &#x9;&#x9;&#x9;&#x9;
                        <li><a href="https://plot.ly/company/jobs/" target="_self">Careers</a></li>
                        &#x9;&#x9;&#x9;&#x9;
                        <li><a href="http://blog.plot.ly" target="_blank">Plotly Blog</a></li>
                        &#x9;&#x9;&#x9;&#x9;
                        <li><a href="http://moderndata.plot.ly" target="_blank">Modern Data</a></li>
                    </ul>
                </li>
                &#x9;&#x9;
                <li class="--footer-column">
                    <h6 class="--footer-heading">Help</h6>&#x9;&#x9;&#x9;
                    <ul>
                        <li><a href="https://plot.ly/learn/" target="_self">Knowledge Base</a></li>
                        &#x9;&#x9;&#x9;&#x9;
                        <li><a href="https://plot.ly/benchmarks/" target="_self">Benchmarks</a></li>
                        &#x9;&#x9;&#x9;&#x9;
                        <li><a href="https://plot.ly/workshop/" target="_self">Workshop</a></li>
                    </ul>
                </li>
                &#x9;&#x9;
                <li class="--footer-column">
                    <h6 class="--footer-heading">Solutions</h6>&#x9;&#x9;&#x9;
                    <ul>
                        <li><a href="https://plot.ly/product/plans/" target="_self">Plans &amp; Pricing</a></li>
                        &#x9;&#x9;&#x9;&#x9;
                        <li><a href="https://plot.ly/product/enterprise/" target="_self">Enterprise</a></li>
                        &#x9;&#x9;&#x9;&#x9;
                        <li><a href="https://plot.ly/online-graphing-and-statistics-for-educators/" target="_self">Education</a>
                        </li>
                        &#x9;&#x9;&#x9;&#x9;
                        <li><a href="https://plot.ly/product/plotlyjs/" target="_self">Plotly.js</a></li>
                    </ul>
                </li>
                &#x9;&#x9;
                <li class="--footer-column">
                    <h6 class="--footer-heading">Connect</h6>&#x9;&#x9;&#x9;
                    <ul class="plotly-social-media-small">
                        <li><a href="//twitter.com/plotlygraphs" target="_blank">
                            <div class="icon">
                                <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                    <path fill="#000000"
                                          d="M17.71,9.33C17.64,13.95 14.69,17.11 10.28,17.31C8.46,17.39 7.15,16.81 6,16.08C7.34,16.29 9,15.76 9.9,15C8.58,14.86 7.81,14.19 7.44,13.12C7.82,13.18 8.22,13.16 8.58,13.09C7.39,12.69 6.54,11.95 6.5,10.41C6.83,10.57 7.18,10.71 7.64,10.74C6.75,10.23 6.1,8.38 6.85,7.16C8.17,8.61 9.76,9.79 12.37,9.95C11.71,7.15 15.42,5.63 16.97,7.5C17.63,7.38 18.16,7.14 18.68,6.86C18.47,7.5 18.06,7.97 17.56,8.33C18.1,8.26 18.59,8.13 19,7.92C18.75,8.45 18.19,8.93 17.71,9.33M20,2H4A2,2 0 0,0 2,4V20A2,2 0 0,0 4,22H20A2,2 0 0,0 22,20V4C22,2.89 21.1,2 20,2Z"/>
                                </svg>
                            </div>
                            <span>Twitter</span></a></li>
                        <li>
                            <a href="//www.facebook.com/Plotly" target="_blank">
                                <div class="icon">
                                    <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                        <path fill="#000000"
                                              d="M19,4V7H17A1,1 0 0,0 16,8V10H19V13H16V20H13V13H11V10H13V7.5C13,5.56 14.57,4 16.5,4M20,2H4A2,2 0 0,0 2,4V20A2,2 0 0,0 4,22H20A2,2 0 0,0 22,20V4C22,2.89 21.1,2 20,2Z"/>
                                    </svg>
                                </div>
                                <span>Facebook</span></a>
                        </li>
                        <li>
                            <a href="//github.com/plotly" target="_blank">
                                <div class="icon">
                                    <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                        <path fill="#000000"
                                              d="M4,2H20A2,2 0 0,1 22,4V20A2,2 0 0,1 20,22H14.85C14.5,21.92 14.5,21.24 14.5,21V18.26C14.5,17.33 14.17,16.72 13.81,16.41C16.04,16.16 18.38,15.32 18.38,11.5C18.38,10.39 18,9.5 17.35,8.79C17.45,8.54 17.8,7.5 17.25,6.15C17.25,6.15 16.41,5.88 14.5,7.17C13.71,6.95 12.85,6.84 12,6.84C11.15,6.84 10.29,6.95 9.5,7.17C7.59,5.88 6.75,6.15 6.75,6.15C6.2,7.5 6.55,8.54 6.65,8.79C6,9.5 5.62,10.39 5.62,11.5C5.62,15.31 7.95,16.17 10.17,16.42C9.89,16.67 9.63,17.11 9.54,17.76C8.97,18 7.5,18.45 6.63,16.93C6.63,16.93 6.1,15.97 5.1,15.9C5.1,15.9 4.12,15.88 5,16.5C5,16.5 5.68,16.81 6.14,17.97C6.14,17.97 6.73,19.91 9.5,19.31V21C9.5,21.24 9.5,21.92 9.14,22H4A2,2 0 0,1 2,20V4A2,2 0 0,1 4,2Z"/>
                                    </svg>
                                </div>
                                <span>Github</span></a></li>
                        <li>
                            <a href="//linkedin.com/company/plotly" target="_blank">
                                <div class="icon">
                                    <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                        <path fill="#000000"
                                              d="M19,19H16V13.7A1.5,1.5 0 0,0 14.5,12.2A1.5,1.5 0 0,0 13,13.7V19H10V10H13V11.2C13.5,10.36 14.59,9.8 15.5,9.8A3.5,3.5 0 0,1 19,13.3M6.5,8.31C5.5,8.31 4.69,7.5 4.69,6.5A1.81,1.81 0 0,1 6.5,4.69C7.5,4.69 8.31,5.5 8.31,6.5A1.81,1.81 0 0,1 6.5,8.31M8,19H5V10H8M20,2H4C2.89,2 2,2.89 2,4V20A2,2 0 0,0 4,22H20A2,2 0 0,0 22,20V4C22,2.89 21.1,2 20,2Z"/>
                                    </svg>
                                </div>
                                <span>LinkedIn</span>
                            </a>
                        </li>
                        <li>
                            <a href="//plus.google.com/+PlotLy" target="_blank">
                                <div class="icon">
                                    <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                        <path fill="#000000"
                                              d="M20,2A2,2 0 0,1 22,4V20A2,2 0 0,1 20,22H4A2,2 0 0,1 2,20V4C2,2.89 2.9,2 4,2H20M20,12H18V10H17V12H15V13H17V15H18V13H20V12M9,11.29V13H11.86C11.71,13.71 11,15.14 9,15.14C7.29,15.14 5.93,13.71 5.93,12C5.93,10.29 7.29,8.86 9,8.86C10,8.86 10.64,9.29 11,9.64L12.36,8.36C11.5,7.5 10.36,7 9,7C6.21,7 4,9.21 4,12C4,14.79 6.21,17 9,17C11.86,17 13.79,15 13.79,12.14C13.79,11.79 13.79,11.57 13.71,11.29H9Z"/>
                                    </svg>
                                </div>
                                <span>Google+</span>
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </section>
    <section class="--footer-meta">
        <div class="--wrap">
            <div class="left">
                <article class="--copyright">Copyright &copy; 2015 Plotly. All rights reserved.</article>
            </div>
            <div class="right">
                <article class="--tos"><a href="https://plot.ly/terms-of-service/" target="_blank">Terms of Service</a>
                </article>
                <article class="--privacy"><a href="https://plot.ly/privacy/" target="_blank">Privacy Policy</a>
                </article>
            </div>
        </div>
    </section>
</footer>
<script src="//images.plot.ly/assets/js/ZeroClipboard.min.js"></script>
<script src="//images.plot.ly/assets/js/main.js"></script>


<!-- Mathjax -->
<script type='text/x-mathjax-config'>
MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']], processEscapes: true}});

</script>
<script type='text/javascript'
        src='//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML%2CSafe.js&#038;ver=4.1'></script>


<!-- Image Hover Script -->
<script src="https://plot.ly/gh-pages/documentation/static//javascripts/imghover.js"></script>

<!-- code highlighting -->
<script src="https://plot.ly/gh-pages/documentation/static//javascripts/codehighlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<!-- Google Analytics -->
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-39373211-1', 'auto');
    ga('send', 'pageview');
</script>

<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-563d60eba90f0f45" async="async"></script>

<script type="text/javascript">

$('div.output_subarea').each(function() {
    var hasScrollbar = $(this).get(0).scrollHeight>$(this).get(0).clientHeight;
    if($(this).height()>=300 && hasScrollbar == false){
        $(this).after('<a href="https://goo.gl/2wUZYZ" target="_blank" style="position:absolute;right:20px;z-index:99;cursor:pointer;" class="pre-cta-go-pro">Support our open-source mission: <span style="color:darkviolet">Go Pro</span></a>')
    }
});

</script>



</body>

</html>
