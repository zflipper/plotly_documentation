var data = [
  {
    type: "indicator",
    value: 350,
    mode: "gauge+number",
    domain: { x: [0, 0.43], y: [0.5, 1] },
    delta: { reference: 400 },
    gauge: {
      axis: { range: [null, 500] },
      bar: { color: "darkblue" },
      steps: [
        { range: [0, 250], color: "cyan" },
        { range: [250, 400], color: "royalblue" }
      ],
      threshold: {
        line: { color: "red", width: 4 },
        thickness: 0.8,
        value: 490
      }
    }
  },
  {
    value: 300,
    type: "indicator",
    mode: "gauge+delta",
    domain: { x: [0.54, 0.9], y: [0.5, 1] },
    title: {
      text: "Speed<br><span style='font-size:0.8em;color:gray'>Time</span>"
    },
    delta: { reference: 400 },
    gauge: {
      axis: { range: [null, 500] },
      bar: { color: "darkblue" },
      bgcolor: "white",
      steps: [
        { range: [0, 250], color: "cyan" },
        { range: [250, 400], color: "royalblue" }
      ],
      threshold: {
        line: { color: "red", width: 4 },
        thickness: 0.75,
        value: 490
      }
    }
  },
  {
    value: 240,
    title: { text: "Speed" },
    type: "indicator",
    domain: { x: [0, 1], y: [0, 0.4] },
    mode: "gauge+number+delta",
    delta: { reference: 400 },
    gauge: {
      bar: { color: "darkblue" },
      axis: { range: [null, 500] },
      steps: [
        { range: [0, 250], color: "cyan" },
        {
          range: [250, 400],
          color: "royalblue"
        }
      ],
      threshold: {
        line: { color: "red", width: 4 },
        thickness: 0.75,
        value: 490
      }
    }
  }
];

var layout = {
  width: 450, height: 450,
  margin: { t: 0, b: 10, r: 0, l: 20 },
  shapes: [{
      type: "rect",
      x0: -0.04,
      x1: 0.5,
      y0: 0.53,
      y1: 1,
      line: { color: "gray", width: 1 }
    }]
};

Plotly.newPlot(gd, data, layout);
