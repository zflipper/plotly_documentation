<!DOCTYPE html>
<html>

<head>
      <meta charset="utf-8"/>

      <!-- Media query magic - http://stackoverflow.com/questions/19945658/my-iphone-thinks-its-980px-wide -->
      <meta name="viewport" content="width=device-width, initial-scale=1.0">


      
      <!-- code highlighting -->
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script>
      

      <!--
      //// Stylesheets
      -->

      <!-- Fonts -->
      <link href="//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic|Ubuntu+Mono:400,700|Asap" rel="stylesheet" type="text/css"/>

      <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

      <!-- Main Stylesheets -->
      <link rel="stylesheet" type="text/css" href="/all_static/css/main.css?version=ff7246c21c">

      <!-- LOCAL DEV STYLESHEET -->
      <!--<link rel="stylesheet" type="text/css" href="http://api.plotly.dev/all_static/css/main.css">-->

      <!-- Icon -->
      <link rel="shortcut icon" href="/all_static/images/plotly-ico.png" type="image/x-icon"/>

      <!-- Google Tags-->
      <!-- Google Tag Manager Tag -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N6T2RXG');</script>

      <script id="drift">
  !(function() {
    var t = (window.driftt = window.drift = window.driftt || []);
    if (!t.init) {
      if (t.invoked)
        return void (
          window.console &&
          console.error &&
          console.error("Drift snippet included twice.")
        );
      (t.invoked = !0),
        (t.methods = [
          "identify",
          "config",
          "track",
          "reset",
          "debug",
          "show",
          "ping",
          "page",
          "hide",
          "off",
          "on"
        ]),
        (t.factory = function(e) {
          return function() {
            var n = Array.prototype.slice.call(arguments);
            return n.unshift(e), t.push(n), t;
          };
        }),
        t.methods.forEach(function(e) {
          t[e] = t.factory(e);
        }),
        (t.load = function(t) {
          var e = 3e5,
            n = Math.ceil(new Date() / e) * e,
            o = document.createElement("script");
          (o.type = "text/javascript"),
            (o.async = !0),
            (o.crossorigin = "anonymous"),
            (o.src = "https://js.driftt.com/include/" + n + "/" + t + ".js");
          var i = document.getElementsByTagName("script")[0];
          i.parentNode.insertBefore(o, i);
        });
    }
  })();
  drift.SNIPPET_VERSION = "0.3.1";
  drift.load("4t5t45cv8ey2");
</script>



    <!-- META TAGS -->
    <!-- SEO Tags - title, meta_description -->
<title>Animations |  JavaScript  | Plotly  </title>
<meta name="description" content="How to animate charts in JavaScript with the animate API.">

<!-- Bing tags -->
    <meta name="msvalidate.01" content="D319859A832F9F1D15A7646E2A42150A" />
<!-- Facebook tags -->
    <meta property="og:title" content="Animations"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://images.plot.ly/plotly-documentation/thumbnail/animations.gif">
    <meta property="og:description" content="How to animate charts in JavaScript with the animate API."/>
    <meta property="og:url" />
    <meta property="fb:admins" content="1123751525"/>
    <meta property="fb:admins" content="22418"/>

<!-- twitter tags -->
    <meta name="twitter:card" content="photo" />
    <meta name="twitter:title" content="Animations"/>
    <meta name="twitter:url" content="https://plot.ly/javascript/animations/"/>
    <meta name="twitter:description" content="How to animate charts in JavaScript with the animate API."/>
    <meta name="twitter:image" content="https://images.plot.ly/plotly-documentation/thumbnail/animations.gif">
    <meta name="twitter:site" content="@plotlygraphs"/>

<!-- Favicon -->
    <link rel="shortcut icon" href="/all_static/images/plotly-ico.png?v=2" />


    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
            integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
            crossorigin="anonymous"></script>


</head>


<body data-spy="scroll" data-target=".watch" style="position:relative;">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N6T2RXG"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->


<!--[if lt IE 10]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
	your browser</a> to improve your experience.</p>
<![endif]-->

<div style="margin-top: 80px"></div>


<header data-spy="affix" data-offset-top="80" class="header-main --default">
    <div class="--wrap">
        <div class="--wrap-left"><a href="https://plot.ly/" target="_blank" class="-identity">
            <div class="-identity">
                <img src="/all_static/images/plotly_graphing_libraries.png" style="height: 66px;"/>
            </div></a>

        </div>
        <div class="--wrap-right">
            <nav class="--nav-meta" role="navigation">
                <ul>
                    <li><a href="https://go.plot.ly/demo_live" data-mode="1" target="_blank" class="typeform-share button --enterprise-quaternary">DEMO DASH</a></li>
                </ul>
            </nav>
        </div>
    </div>
</header>


<section class="--breadcrumb-container"  data-spy="affix" >
    <div class="--wrap">
        <!--
            Show this if page is too thin (hides breadcrumb list)
            Toggles sidebar slide in/out (see main.js)
        -->
        <a class="toggle-sidebar">
            <div class="icon">
                <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                    <path fill="#000000" d="M5,13L9,17L7.6,18.42L1.18,12L7.6,5.58L9,7L5,11H21V13H5M21,6V8H11V6H21M21,16V18H11V16H21Z" />
                </svg>
            </div>
            <span class="show">Show Sidebar</span>
            <span class="hide">Hide Sidebar</span>
        </a>

        <!--
            Breadcrumb List
        -->
        <ul class="--breadcrumb-list">
            <li class="--breadcrumb-item">
                <div class="icon">
                    <svg style="width:24px;height:24px" viewbox="0 0 24 24">
                        <path fill="#000000" d="M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"></path>
                    </svg>
                </div>
                <a href="https://help.plot.ly/"><span>Help</span></a>
            </li>
            <li class="--breadcrumb-item"><a href="/graphing-libraries/"><span>Open Source Graphing Libraries</span></a></li>
            
            <li class="--breadcrumb-item">
                <a href="/javascript"  ><span>JavaScript</span></a>
            </li>
            

            
                
                
                
                <li class="--breadcrumb-item">
                <a href="/javascript/#animations">
                        <span>Animations</span>
                </a>
                    </li>

            

            
            
                <li class="--breadcrumb-item">
                    <span>Animations</span>
                </li>
            
            

            
        </ul>

        <!--
            Fork on GitHub :)
        -->

     <div class="--fork">
        
        
        <a id="forklink" href= "https://github.com/plotly/documentation/tree/source-design-merge/_posts/plotly_js/animations/" >
        
                <div class="icon">
                    <svg style="width:24px;height:24px" viewbox="0 0 24 24">
                        <path fill="#000000" d="M2.6,10.59L8.38,4.8L10.07,6.5C9.83,7.35 10.22,8.28 11,8.73V14.27C10.4,14.61 10,15.26 10,16A2,2 0 0,0 12,18A2,2 0 0,0 14,16C14,15.26 13.6,14.61 13,14.27V9.41L15.07,11.5C15,11.65 15,11.82 15,12A2,2 0 0,0 17,14A2,2 0 0,0 19,12A2,2 0 0,0 17,10C16.82,10 16.65,10 16.5,10.07L13.93,7.5C14.19,6.57 13.71,5.55 12.78,5.16C12.35,5 11.9,4.96 11.5,5.07L9.8,3.38L10.59,2.6C11.37,1.81 12.63,1.81 13.41,2.6L21.4,10.59C22.19,11.37 22.19,12.63 21.4,13.41L13.41,21.4C12.63,22.19 11.37,22.19 10.59,21.4L2.6,13.41C1.81,12.63 1.81,11.37 2.6,10.59Z"></path>
                    </svg>
                </div>
                <span>Edit this page on GitHub</span>
            </a>
    </div>
</section>


<main class="--page page--single --index">

	<div class="--wrap">
		<!-- aside - Main Sidebar-->
		<aside class="--sidebar-container">
			<div class="--sidebar-fixed reference" data-spy="affix" id="where">
				<header class="--sidebar-header">Navigation</header>
				<nav class="--sidebar-body watch"   id="where">
          <ul class="--sidebar-list"></ul>
          
					
					<button class="--btn back">
						<div class="icon">
							<svg style="width:24px;height:24px" viewBox="0 0 24 24">
								<path fill="#000000"
									  d="M20,10V14H11L14.5,17.5L12.08,19.92L4.16,12L12.08,4.08L14.5,6.5L11,10H20Z"/>
							</svg>
						</div>
						<span><a href="/javascript/">Back to JavaScript
						</a></span>
					</button>
				</nav>
			</div>
		</aside>
		<!-- Main-->
		<section class="--page-body --tutorial-index --base">
			<header class="--welcome">
				<div class="--welcome-body">
					<!--div.--wrap-inner-->
					<div class="--title">
						<div class="--category-img">




							
							
              
							
							
							
							
							
							<img src="https://images.plot.ly/language-icons/api-home/js-logo.png" alt="Plotly.js">
							
							
							





						</div>
						<div class="--body">

							
							<h1>
								Animations
								
								in JavaScript
								
							</h1>
							<p>How to animate charts in JavaScript with the animate API. </p>

							
              	<nav class="lang-nav">
		<ul class="lang-nav--list"><li class="lang-nav--item">
                <a class="lang_nav_button " href="/python/animations/">
                    <div><img src="https://plot.ly/gh-pages/documentation/static/images/python-small.png" alt="python" class="lang_nav_thum"></div>
                    Python
                </a>
            </li><li class="lang-nav--item">
                <a class="lang_nav_button " href="/r/animations/">
                    <div><img src="https://plot.ly/gh-pages/documentation/static/images/r-small.png" alt="r" class="lang_nav_thum"></div>
                    R
                </a>
            </li><li class="lang-nav--item">
                <a class="lang_nav_button current" href="/javascript/animations/">
					<div><img src="https://images.plot.ly/language-icons/api-home/js-logo.png" alt="plotly.js" class="lang_nav_thum"></div>

					JavaScript
                </a>
            </li></ul>
		</nav>


						</div>
					</div>
				</div>
			</header>

			<!-- Start Plotly Basics Section -->
			<section class="tutorial-content">

				






				


    <div class="section">
        <div class="row auto-eg-padding">
      <div class=" row twelve columns">
        <h4 id="animating-the-data"><a class="no_underline plot-blue" href="#animating-the-data">Animating the Data</a></h4>
      </div>
      <div class="row">
        <div class="twelve columns">
          
            <p>The animate command lets you add dynamic behavior to Plotly graphs in a number of different ways. At its core, <code>Plotly.animate</code> transitions traces to a new state or sequence of states. When you tell Plotly to animate, it merges the properties you&#39;ve supplied into the current state of the plot. Therefore to animate a trace, <em>you must first plot the trace you wish to animate</em>.</p>

<p>The example below transitions to new y-values each time the button is pressed. Since the transition animation occurs within a frame, <code>frame.duration</code> must be set at least as long as <code>transition.duration</code>. Note that to prevent artifacts while animating, the default line simplification algorithm is explicitly disabled. Currently, only scatter traces may be smoothly transitioned from one state to the next. Other traces are compatible with frames and animations but will be updated instantaneously.</p>

          
          
            <div class="z-depth-1">
              <pre><code class="plotly_js">Plotly.newPlot('graph', [{
  x: [1, 2, 3],
  y: [0, 0.5, 1],
  line: {simplify: false},
}]);

function randomize() {
  Plotly.animate('graph', {
    data: [{y: [Math.random(), Math.random(), Math.random()]}],
    traces: [0],
    layout: {}
  }, {
    transition: {
      duration: 500,
      easing: 'cubic-in-out'
    },
    frame: {
      duration: 500
    }
  })
}
</code></pre>
            </div>
          
          
        </div>
        
          <div class="twelve columns">
            <div class="border" style="text-align:center;">
              
              <iframe id="auto-examples" src="https://codepen.io/plotly/embed/ZpWPpj/?height=500&theme-id=15263&default-tab=result"
                style="width: 100%; height: 550px; border: none;"></iframe>
              
            </div>
          </div>
      
      </div>
        </div>

    </div>

    <div class="section">
        <div class="row auto-eg-padding">
      <div class=" row twelve columns">
        <h4 id="animating-the-layout"><a class="no_underline plot-blue" href="#animating-the-layout">Animating the Layout</a></h4>
      </div>
      <div class="row">
        <div class="twelve columns">
          
            <p>The example below transitions to a new axis range each time the button is pressed. A present limitation of the animate API is that only one of either data or layout may be smoothly transitioned at a time. If both are provided, the data will be updated instantaneously after the layout is transitioned.</p>

          
          
            <div class="z-depth-1">
              <pre><code class="plotly_js">var n = 500;
var x = [], y = [];
for (var i = 0; i &lt; n; i++) {
  x[i] = i / (n - 1);
  y[i] = x[i] + 0.2 * (Math.random() - 0.5);
}

Plotly.plot('graph', [{
  x: x,
  y: y,
  mode: 'markers'
}], {
  xaxis: {range: [0, 1]},
  yaxis: {range: [0, 1]}
});

function zoom() {
  var min = 0.45 * Math.random();
  var max = 0.55 + 0.45 * Math.random();
  Plotly.animate('graph', {
    layout: {
      xaxis: {range: [min, max]},
      yaxis: {range: [min, max]}
    }
  }, {
    transition: {
      duration: 500,
      easing: 'cubic-in-out'
    }
  })
}
</code></pre>
            </div>
          
          
        </div>
        
          <div class="twelve columns">
            <div class="border" style="text-align:center;">
              
              <iframe id="auto-examples" src="https://codepen.io/plotly/embed/GjkZNk/?height=500&theme-id=15263&default-tab=result"
                style="width: 100%; height: 550px; border: none;"></iframe>
              
            </div>
          </div>
      
      </div>
        </div>

    </div>

    <div class="section">
        <div class="row auto-eg-padding">
      <div class=" row twelve columns">
        <h4 id="defining-named-frames-with-plotly.addframes"><a class="no_underline plot-blue" href="#defining-named-frames-with-plotly.addframes">Defining Named Frames with <code>Plotly.addFrames</code></a></h4>
      </div>
      <div class="row">
        <div class="twelve columns">
          
            <p>The above examples pass the data itself through the <code>Plotly.animate</code> command. You may instead predefine named frames through the <code>Plotly.addFrames</code> command. Then, instead of passing frames through <code>Plotly.animate</code>, you may simply refer to a frame by name.</p>

<p>Similar to traces, frames are assigned a serial index as they are added. Frames may be updated by passing an array of frame indices. For example, the command to update the frame with index 2 would be <code>Plotly.addFrames(&#39;graph&#39;, [{...}], [2])</code>. Frames can be similarly deleted with, for example, <code>Plotly.deleteFrames(&#39;graph&#39;, [2])</code>.</p>

<p>The following example uses frames together with an <code>updatemenu</code> for interactive transitions.</p>

          
          
            <div class="z-depth-1">
              <pre><code class="plotly_js">var frames = [
  {name: 'sine', data: [{x: [], y: []}]},
  {name: 'cosine', data: [{x: [], y: []}]},
  {name: 'circle', data: [{x: [], y: []}]},
];

var n = 100;
for (var i = 0; i &lt; n; i++) {
  var t = i / (n - 1) * 2 - 1;

  // A sine wave:
  frames[0].data[0].x[i] = t * Math.PI;
  frames[0].data[0].y[i] = Math.sin(t * Math.PI);

  // A cosine wave:
  frames[1].data[0].x[i] = t * Math.PI;
  frames[1].data[0].y[i] = Math.cos(t * Math.PI);

  // A circle:
  frames[2].data[0].x[i] = Math.sin(t * Math.PI);
  frames[2].data[0].y[i] = Math.cos(t * Math.PI);
}

Plotly.plot('graph', [{
  x: frames[0].data[0].x,
  y: frames[0].data[0].y,
  line: {simplify: false},
}], {
  xaxis: {range: [-Math.PI, Math.PI]},
  yaxis: {range: [-1.2, 1.2]},
  updatemenus: [{
    buttons: [
      {method: 'animate', args: [['sine']], label: 'sine'},
      {method: 'animate', args: [['cosine']], label: 'cosine'},
      {method: 'animate', args: [['circle']], label: 'circle'}
    ]
  }]
}).then(function() {
  Plotly.addFrames('graph', frames);
});
</code></pre>
            </div>
          
          
        </div>
        
          <div class="twelve columns">
            <div class="border" style="text-align:center;">
              
              <iframe id="auto-examples" src="https://codepen.io/plotly/embed/wzGOgd/?height=500&theme-id=15263&default-tab=result"
                style="width: 100%; height: 550px; border: none;"></iframe>
              
            </div>
          </div>
      
      </div>
        </div>

    </div>

    <div class="section">
        <div class="row auto-eg-padding">
      <div class=" row twelve columns">
        <h4 id="animating-sequences-of-frames"><a class="no_underline plot-blue" href="#animating-sequences-of-frames">Animating Sequences of Frames</a></h4>
      </div>
      <div class="row">
        <div class="twelve columns">
          
            <p>The above examples have used one frame at a time. Whether passing objects as frames or referring to frames by name, you may pass multiple frames together in an array. If <code>null</code> or <code>undefined</code> is passed as the second argument (i.e. <code>Plotly.animate(&#39;graph&#39;)</code>), then all defined frames will be animated in sequence.</p>

<p>The third argument of <code>Plotly.animate</code> contains animation options. The transition duration defines the amount of time spent interpolating a trace from one state to another (currently limited to scatter traces), while the frame duration defines the total time spent in that state, including time spent transitioning. The example below has two frames, each with their own transition and frame timing.</p>

          
          
            <div class="z-depth-1">
              <pre><code class="plotly_js">Plotly.plot('graph', [{
  x: [0, 0],
  y: [-1, 1],
}], {
  xaxis: {range: [-Math.PI, Math.PI]},
  yaxis: {range: [-1.3, 1.3]}
}).then(function () {
  Plotly.addFrames('graph', [
    {
      data: [{x: [1, -1], y: [0, 0]}],
      name: 'frame1'
    }, {
      data: [{x: [0, 0], y: [-1, 1]}],
      name: 'frame2'
    }
  ]);
})

function startAnimation() {
  Plotly.animate('graph', ['frame1', 'frame2'], {
    frame: [
      {duration: 1500},
      {duration: 500},
    ],
    transition: [
      {duration: 800, easing: 'elastic-in'},
      {duration: 100, easing: 'cubic-in'},
    ],
    mode: 'afterall'
  })
}
</code></pre>
            </div>
          
          
        </div>
        
          <div class="twelve columns">
            <div class="border" style="text-align:center;">
              
              <iframe id="auto-examples" src="https://codepen.io/plotly/embed/qakvRz/?height=500&theme-id=15263&default-tab=result"
                style="width: 100%; height: 550px; border: none;"></iframe>
              
            </div>
          </div>
      
      </div>
        </div>

    </div>

    <div class="section">
        <div class="row auto-eg-padding">
      <div class=" row twelve columns">
        <h4 id="animating-many-frames-quickly"><a class="no_underline plot-blue" href="#animating-many-frames-quickly">Animating Many Frames Quickly</a></h4>
      </div>
      <div class="row">
        <div class="twelve columns">
          
            <p>By default and to ensure any properties that cannot be animated are applied to the plot, a full redraw occurs after each transition. This is generally desirable, but hurts performance when you wish to animate frames as quickly as possible. The example below performs a live simulation of the Lorenz attractor and greatly improves the performance by eliminating the redraw with  <code>redraw: false</code>.</p>

          
          
            <div class="z-depth-1">
              <pre><code class="plotly_js">var n = 100;
var x = [], y = [], z = [];
var dt = 0.015;

for (i = 0; i &lt; n; i++) {
  x[i] = Math.random() * 2 - 1;
  y[i] = Math.random() * 2 - 1;
  z[i] = 30 + Math.random() * 10;
}

Plotly.plot('graph', [{
  x: x,
  y: z,
  mode: 'markers'
}], {
  xaxis: {range: [-40, 40]},
  yaxis: {range: [0, 60]}
})

function compute () {
  var s = 10, b = 8/3, r = 28;
  var dx, dy, dz;
  var xh, yh, zh;
  for (var i = 0; i &lt; n; i++) {
    dx = s * (y[i] - x[i]);
    dy = x[i] * (r - z[i]) - y[i];
    dz = x[i] * y[i] - b * z[i];

    xh = x[i] + dx * dt * 0.5;
    yh = y[i] + dy * dt * 0.5;
    zh = z[i] + dz * dt * 0.5;

    dx = s * (yh - xh);
    dy = xh * (r - zh) - yh;
    dz = xh * yh - b * zh;

    x[i] += dx * dt;
    y[i] += dy * dt;
    z[i] += dz * dt;
  }
}

function update () {
  compute();

  Plotly.animate('graph', {
    data: [{x: x, y: z}]
  }, {
    transition: {
      duration: 0
    },
    frame: {
      duration: 0,
      redraw: false
    }
  });

  requestAnimationFrame(update);
}

requestAnimationFrame(update);
</code></pre>
            </div>
          
          
        </div>
        
          <div class="twelve columns">
            <div class="border" style="text-align:center;">
              
              <iframe id="auto-examples" src="https://codepen.io/plotly/embed/NRNJpv/?height=500&theme-id=15263&default-tab=result"
                style="width: 100%; height: 550px; border: none;"></iframe>
              
            </div>
          </div>
      
      </div>
        </div>

    </div>

    <div class="section">
        <div class="row auto-eg-padding">
      <div class=" row twelve columns">
        <h4 id="object-constancy"><a class="no_underline plot-blue" href="#object-constancy">Object Constancy</a></h4>
      </div>
      <div class="row">
        <div class="twelve columns">
          
            <p>For scatter traces, you may wish to retain a marker&#39;s identity as it is updated. If you include an array of string ids with the trace, the marker identity will be retained. By shuffling the ids, the example below shuffles the markers each time the button is pressed.</p>

          
          
            <div class="z-depth-1">
              <pre><code class="plotly_js">function shuffleInPlace(array) {
  for (var i = array.length - 1; i &gt; 0; i--) {
    var j = Math.floor(Math.random() * (i + 1));
    var temp = array[i];
    array[i] = array[j];
    array[j] = temp;
  }
}

var ids = ['1', '2', '3', '4', '5', '6'];

Plotly.plot('graph', [{
  x: [1, 0.5, -0.5, -1, -0.5, 0.5],
  y: [0, 0.866, 0.866, 0, -0.866, -0.866],
  marker:{size:14,
			 color:['#631357', '#880E4F', '#AD1457',
					  '#F06292', '#F48FB1']},
  ids: ids,
  mode: 'markers'
}], {
  xaxis: {range: [-3, 3]},
  yaxis: {range: [-2, 2]}
});

function animateShuffle() {
  shuffleInPlace(ids);
  Plotly.animate('graph', [{
    data: [{ids: ids}]
  }]);
}
</code></pre>
            </div>
          
          
        </div>
        
          <div class="twelve columns">
            <div class="border" style="text-align:center;">
              
              <iframe id="auto-examples" src="https://codepen.io/plotly/embed/LRNaWw/?height=500&theme-id=15263&default-tab=result"
                style="width: 100%; height: 550px; border: none;"></iframe>
              
            </div>
          </div>
      
      </div>
        </div>

    </div>

    <div class="section">
        <div class="row auto-eg-padding">
      <div class=" row twelve columns">
        <h4 id="frame-groups-and-animation-modes"><a class="no_underline plot-blue" href="#frame-groups-and-animation-modes">Frame Groups and Animation Modes</a></h4>
      </div>
      <div class="row">
        <div class="twelve columns">
          
            <p>The following example combines many of these concepts to draw a glass filling with water.</p>

<p>The first row of buttons animates a different set of predefined frames by changing the second argument of <code>Plotly.animate</code>. Passing <code>null</code> or <code>undefined</code> animates all defined frames in sequence, while passing an array of strings (here, the frames in reverse) animates a specific sequence of frames. By passing a plain string (here, <code>lower</code> or <code>upper</code>), it filters the animated frames to those with a <code>group</code> property equal to that name. The stop button is accomplished by interrupting the current animation with an empty list of frames, therefore simply stopping the animation at the end of the current frame.</p>

<p>The second row of buttons animates all frames with different animation modes. The <code>mode</code> option defines whether an animation either interrupts or follows the current animation. <code>immediate</code> mode discards all queued frames and begins a new sequence immediately. The <code>next</code> mode is very similar but doesn&#39;t begin the new animation until the <em>end</em> of the current frame. Finally, <code>afterall</code> queues the new frames so that the new animation begins only after all previous animations have completed.</p>

          
          
            <div class="z-depth-1">
              <pre><code class="plotly_js">var i, j, t, x, y, name;
var frames = [];
var nFrames = 10;
var n = 80;
var reverseFrames = [];

for (i = 0; i &lt; nFrames; i++) {
  var fill = 0.1 + 0.9 * i / (nFrames - 1);
  x = [-1];
  y = [0];

  // A wave across the top:
  for (j = 0; j &lt; n; j++) {
    t = j / (n - 1);
    x.push(-1 - fill + (2 + 2 * fill) * t);
    y.push(fill + 0.05 * Math.sin(t * Math.PI * 2 * i));
  }

  // Close the loop to draw the water:
  x.push(1, -1);
  y.push(0, 0);

  // Choose a name:
  name = 'frame' + i;

  // Store it in an array so we can animate in reverse order:
  reverseFrames.unshift(name);

  // Create the frame:
  frames.push({
    name: name,
    data: [{x: x, y: y}],
    group: i &lt; nFrames / 2 ? 'lower' : 'upper'
  })
}

Plotly.plot('graph', [{
  // Set up the initial water:
  x: frames[0].data[0].x,
  y: frames[0].data[0].y,
  mode: 'lines',
  fill: 'toself',
  showlegend: false,
  line: {simplify: false}
}, {
  // Draw a glass:
  x: [-1, 1, 2.1, -2.1, -1],
  y: [0, 0, 1.1, 1.1, 0],
  mode: 'lines',
  fill: 'toself',
  showlegend: false,
  fillcolor: 'rgba(0, 0, 0, 0.1)',
  line: {color: 'rgba(100,100,100,0.2)'}
}], {
  xaxis: {range: [-3, 3]},
  yaxis: {range: [-0.1, 1.5]}
}).then(function() {
  // Add the frames so we can animate them:
  Plotly.addFrames('graph', frames);
});

// Stop the animation by animating to an empty set of frames:
function stopAnimation () {
  Plotly.animate('graph', [], {mode: 'next'});
}

function startAnimation (groupOrFrames, mode) {
  Plotly.animate('graph', groupOrFrames, {
    transition: {
      duration: 500,
      easing: 'linear'
    },
    frame: {
      duration: 500,
      redraw: false,
    },
    mode: mode
  });
}
</code></pre>
            </div>
          
          
        </div>
        
          <div class="twelve columns">
            <div class="border" style="text-align:center;">
              
              <iframe id="auto-examples" src="https://codepen.io/plotly/embed/rrZRmA/?height=500&theme-id=15263&default-tab=result"
                style="width: 100%; height: 550px; border: none;"></iframe>
              
            </div>
          </div>
      
      </div>
        </div>

    </div>

    <div class="section">
        <div class="row auto-eg-padding">
      <div class=" row twelve columns">
        <h4 id="animating-with-a-slider"><a class="no_underline plot-blue" href="#animating-with-a-slider">Animating with a Slider</a></h4>
      </div>
      <div class="row">
        <div class="twelve columns">
          
            <p>See <a href="https://plot.ly/javascript/gapminder-example/">Adding Sliders to Animations</a>.</p>

          
          
          
        </div>
        
      </div>
        </div>

    </div>


				
			</section>
			<!--End Plotly Basics Section-->
			
			<section class="meta">
				<div class="wrap">
					<img width="250" src="/all_static/images/browser_support.png">
					<p style="text-align: center;">
						<b style="color:#447adb;">plotly.js</b> runs on all SVG-compatible browsers
					</p>
				</div>
			</section>
			
		</section>
	</div>
</main>

<section class="--help-box">
  <a
    href="https://dash.plot.ly/getting-started
  "
    ><div class="--wrap">
      <div class="--body">
        <img
          height="50%"
          width="50%"
          src="https://s3-us-west-1.amazonaws.com/plotly-tutorials/assets/dash-ad.png"
        />
      </div>
    </div>
  </a>
</section>



<script>

    var array = [];

    $('.tutorial-content :header:not(h6)').each(function (i, e) {
        var item = $(e);
        var itemText = item.text();
        var hash = itemText.replace(/[^a-z0-9\s]/gi, '').replace(/[_\s]/g, '-').replace(/^-+|-+$/g, '').toLowerCase();
        item.attr("id", hash);
        array.push({text: itemText, tag: item.prop("tagName"), hash: hash});
    });

    $(".--sidebar-list").html(array.map(function(entry) {
        var text = entry.text.replace(/[^a-z0-9\s\.:\-\?\!\(\))]/gi, '');
        if(entry.tag.toLowerCase() < "h4"){
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
        else {
            return('<li class="--sidebar-item"><a href="#' + entry.hash + '">' + text + '</a></li>');
        }
    }).join(""));


    //$(".tutorial-content :header:not(h6)").append( "\<div class=\"icon copy\" data-tooltip=\"Click to copy direct link\"><svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\"><path fill=\"#000000\" d=\"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z\"/> </svg> </div>");

</script>


<footer class="--footer-main">
        <section class="--footer-top">
            <div class="--wrap">
                <ul class="--footer-body">
                    <li class="--footer-column">
                        <h6 style="color:#e763fa" class="--footer-heading">Products</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plot.ly/dash/" target="_self">Dash</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plot.ly/online-chart-maker/" target="_self">Chart Studio</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plot.ly/products/oem/" target="_self">Plotly OEM</a></li>
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#636efa" class="--footer-heading">Pricing</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://go.plot.ly/get-pricing" target="_self">Enterprise Pricing</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#00cc96" class="--footer-heading">About Us</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://plot.ly/company/careers" target="_self">Careers</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plot.ly/resources/" target="_self">Resources</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://medium.com/@plotlygraphs" target="_self">Blog</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#EF553B" class="--footer-heading">Support</h6>&#x9;&#x9;&#x9;
                        <ul>
                            <li><a href="https://community.plot.ly/" target="_self">Community Support</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                            <li><a href="https://plot.ly/graphing-libraries" target="_self">Documentation</a></li>
                            &#x9;&#x9;&#x9;&#x9;
                        </ul>
                    </li>
                    &#x9;&#x9;
                    <li class="--footer-column">
                        <h6 style="color:#119dff" class="--footer-heading">JOIN OUR MAILING LIST</h6>&#x9;&#x9;&#x9;
                        <ul>
                            &#x9;&#x9;&#x9;&#x9;
                            <li>
                              <p class="subscribe-text"> Sign up to stay in the loop with all things Plotly — from Dash Club to product updates, webinars, and more!</p>
                              <a 
                                href="https://go.plot.ly/subscription" 
                                class="subscribe-button" 
                                target="_blank">
                                Subscribe
                              </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </section>
        <section class="--footer-meta">
            <div class="--wrap">
                <div class="left">
                    <article class="--copyright">Copyright &copy; 2019 Plotly. All rights reserved.</article>
                </div>
                <div class="right">
                    <article class="--tos"><a href="https://plot.ly/terms-of-service/" target="_blank">Terms of Service</a>
                    </article>
                    <article class="--privacy"><a href="https://plot.ly/privacy/" target="_blank">Privacy Policy</a>
                    </article>
                </div>
            </div>
        </section>
    </footer>


<!-- Mathjax -->
<script type='text/x-mathjax-config'>MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']], processEscapes: true}});</script>
<script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML%2CSafe.js&#038;ver=4.1'></script>

 
 <!-- Hash offset Script -->
<script src="/all_static//javascripts/hash_offset.js"></script>
 <!-- Image Hover Script -->
<script src="/all_static/javascripts/imghover.js"></script>
 
<!-- code highlighting -->
<script src="/all_static/javascripts/codehighlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>





</body>

</html>
