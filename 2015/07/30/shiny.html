<h1>Getting Started with Shiny and Plotly | Examples | Plotly</h1>

<h1>Plotly Graphs in Shiny</h1>

<p>Since plotly adheres to the <a href="http://www.htmlwidgets.org/">htmlwidgets</a> framework, it&#39;s easy to embed plotly graphs in <a href="http://shiny.rstudio.com/">shiny</a> apps. Not only does this make it easy for your plotly graphs to change dynamically according to input values, but (thanks to <code>event_data()</code>) it is also easy to access user events with plotly graphs! Here is a fairly basic example of accessing hover events server-side:</p>

<iframe src="https://plotly.shinyapps.io/Movies" width="100%" height=700 scrolling="no" seamless="seamless" style="border: none"></iframe>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">shiny</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">ui</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fluidPage</span><span class="p">(</span><span class="w">
  </span><span class="n">plotlyOutput</span><span class="p">(</span><span class="s2">"plot"</span><span class="p">),</span><span class="w">
  </span><span class="n">verbatimTextOutput</span><span class="p">(</span><span class="s2">"event"</span><span class="p">)</span><span class="w">
</span><span class="p">)</span><span class="w">

</span><span class="n">server</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">output</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">

  </span><span class="c1"># renderPlotly() also understands ggplot2 objects!
</span><span class="w">  </span><span class="n">output</span><span class="o">$</span><span class="n">plot</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">renderPlotly</span><span class="p">({</span><span class="w">
    </span><span class="n">plot_ly</span><span class="p">(</span><span class="n">mtcars</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">mpg</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">wt</span><span class="p">)</span><span class="w">
  </span><span class="p">})</span><span class="w">

  </span><span class="n">output</span><span class="o">$</span><span class="n">event</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">renderPrint</span><span class="p">({</span><span class="w">
    </span><span class="n">d</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">event_data</span><span class="p">(</span><span class="s2">"plotly_hover"</span><span class="p">)</span><span class="w">
    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">is.null</span><span class="p">(</span><span class="n">d</span><span class="p">))</span><span class="w"> </span><span class="s2">"Hover on a point!"</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">d</span><span class="w">
  </span><span class="p">})</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="n">shinyApp</span><span class="p">(</span><span class="n">ui</span><span class="p">,</span><span class="w"> </span><span class="n">server</span><span class="p">)</span><span class="w">
</span></code></pre></div>
<p>Check out our <a href="https://plot.ly/r/shiny-gallery/">shiny gallery</a> for more examples!</p>
