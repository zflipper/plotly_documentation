<h1>Bubble Charts in R | Examples | Plotly</h1>

<h3>New to Plotly?</h3>

<p>Plotly&#39;s R library is free and open source!<br>
<a href="https://plot.ly/r/getting-started/">Get started</a> by downloading the client and <a href="https://plot.ly/r/getting-started/">reading the primer</a>.<br>
You can set up Plotly to work in <a href="https://plot.ly/r/getting-started/#hosting-graphs-in-your-online-plotly-account">online</a> or <a href="https://plot.ly/r/offline/">offline</a> mode.<br>
We also have a quick-reference <a href="https://images.plot.ly/plotly-documentation/images/r_cheat_sheet.pdf">cheatsheet</a> (new!) to help you get started!</p>

<h3>Version Check</h3>

<p>Version 4 of Plotly&#39;s R package is now <a href="https://plot.ly/r/getting-started/#installation">available</a>!<br>
Check out <a href="http://moderndata.plot.ly/upgrading-to-plotly-4-0-and-above/">this post</a> for more information on breaking changes and new features available in this version.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">
</span><span class="n">packageVersion</span><span class="p">(</span><span class="s1">'plotly'</span><span class="p">)</span><span class="w">
</span></code></pre></div><div class="highlight"><pre><code class="language-" data-lang="">## [1] '4.5.2'
</code></pre></div>
<h3>New to Plotly?</h3>

<p>Plotly&#39;s R library is free and open source! <a href="https://plot.ly/r/getting-started/">Get started</a> by downloading the client and <a href="https://plot.ly/r/getting-started/">reading the primer</a>.
You can set up Plotly to work in <a href="https://plot.ly/r/getting-started/#hosting-graphs-in-your-online-plotly-account">online</a> or <a href="https://plot.ly/r/offline/">offline</a> mode.
We also have a quick-reference <a href="https://images.plot.ly/plotly-documentation/images/r_cheat_sheet.pdf">cheatsheet</a> (new!) to help you get started!</p>

<h3>Simple Bubble Chart</h3>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="s2">"https://raw.githubusercontent.com/plotly/datasets/master/school_earnings.csv"</span><span class="p">)</span><span class="w">

</span><span class="n">plot_ly</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">Women</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">Men</span><span class="p">,</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">School</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'scatter'</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'markers'</span><span class="p">,</span><span class="w">
        </span><span class="n">marker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">gap</span><span class="p">,</span><span class="w"> </span><span class="n">opacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.5</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Gender Gap in Earnings per University'</span><span class="p">,</span><span class="w">
         </span><span class="n">xaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">showgrid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">),</span><span class="w">
         </span><span class="n">yaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">showgrid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">))</span><span class="w">
</span></code></pre></div>
<iframe src="https://plot.ly/~RPlotBot/3597.embed" width="800" height="600" id="igraph" scrolling="no" seamless="seamless" frameBorder="0"> </iframe>

<h3>Setting Markers Color</h3>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="s2">"https://raw.githubusercontent.com/plotly/datasets/master/school_earnings.csv"</span><span class="p">)</span><span class="w">

</span><span class="n">plot_ly</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">Women</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">Men</span><span class="p">,</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">School</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'scatter'</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'markers'</span><span class="p">,</span><span class="w">
        </span><span class="n">marker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">gap</span><span class="p">,</span><span class="w"> </span><span class="n">opacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.5</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'rgb(255, 65, 54)'</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Gender Gap in Earnings per University'</span><span class="p">,</span><span class="w">
         </span><span class="n">xaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">showgrid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">),</span><span class="w">
         </span><span class="n">yaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">showgrid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">))</span><span class="w">
</span></code></pre></div>
<iframe src="https://plot.ly/~RPlotBot/3599.embed" width="800" height="600" id="igraph" scrolling="no" seamless="seamless" frameBorder="0"> </iframe>

<h3>Setting Multiple Colors</h3>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="s2">"https://raw.githubusercontent.com/plotly/datasets/master/school_earnings.csv"</span><span class="p">)</span><span class="w">

</span><span class="n">colors</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'rgba(204,204,204,1)'</span><span class="p">,</span><span class="w"> </span><span class="s1">'rgba(222,45,38,0.8)'</span><span class="p">,</span><span class="w"> </span><span class="s1">'rgba(204,204,204,1)'</span><span class="p">,</span><span class="w"> </span><span class="s1">'rgba(204,204,204,1)'</span><span class="p">,</span><span class="w"> </span><span class="s1">'rgba(204,204,204,1)'</span><span class="p">,</span><span class="w">
            </span><span class="s1">'rgba(204,204,204,1)'</span><span class="p">,</span><span class="w"> </span><span class="s1">'rgba(204,204,204,1)'</span><span class="p">,</span><span class="w"> </span><span class="s1">'rgba(204,204,204,1)'</span><span class="p">,</span><span class="w"> </span><span class="s1">'rgba(204,204,204,1)'</span><span class="p">,</span><span class="w"> </span><span class="s1">'rgba(204,204,204,1)'</span><span class="p">,</span><span class="w">
            </span><span class="s1">'rgba(204,204,204,1)'</span><span class="p">,</span><span class="w"> </span><span class="s1">'rgba(204,204,204,1)'</span><span class="p">,</span><span class="w"> </span><span class="s1">'rgba(204,204,204,1)'</span><span class="p">,</span><span class="w"> </span><span class="s1">'rgba(204,204,204,1)'</span><span class="p">,</span><span class="w"> </span><span class="s1">'rgba(204,204,204,1)'</span><span class="p">,</span><span class="w">
            </span><span class="s1">'rgba(204,204,204,1)'</span><span class="p">,</span><span class="w"> </span><span class="s1">'rgba(204,204,204,1)'</span><span class="p">,</span><span class="w"> </span><span class="s1">'rgba(204,204,204,1)'</span><span class="p">,</span><span class="w"> </span><span class="s1">'rgba(204,204,204,1)'</span><span class="p">,</span><span class="w"> </span><span class="s1">'rgba(204,204,204,1)'</span><span class="p">,</span><span class="w">
            </span><span class="s1">'rgba(204,204,204,1)'</span><span class="p">)</span><span class="w">
</span><span class="c1"># Note: The colors will be assigned to each observations based on the order of the observations in the dataframe.
</span><span class="w">

</span><span class="n">plot_ly</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">Women</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">Men</span><span class="p">,</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">School</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'scatter'</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'markers'</span><span class="p">,</span><span class="w">
        </span><span class="n">marker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">gap</span><span class="p">,</span><span class="w"> </span><span class="n">opacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.5</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">colors</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Gender Gap in Earnings per University'</span><span class="p">,</span><span class="w">
         </span><span class="n">xaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">showgrid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">),</span><span class="w">
         </span><span class="n">yaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">showgrid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">))</span><span class="w">
</span></code></pre></div>
<iframe src="https://plot.ly/~RPlotBot/3601.embed" width="800" height="600" id="igraph" scrolling="no" seamless="seamless" frameBorder="0"> </iframe>

<h3>Mapping a Color Variable (Continuous)</h3>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="s2">"https://raw.githubusercontent.com/plotly/datasets/master/school_earnings.csv"</span><span class="p">)</span><span class="w">

</span><span class="n">plot_ly</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">Women</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">Men</span><span class="p">,</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">School</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'scatter'</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'markers'</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">gap</span><span class="p">,</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Reds'</span><span class="p">,</span><span class="w">
        </span><span class="n">marker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">gap</span><span class="p">,</span><span class="w"> </span><span class="n">opacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.5</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Gender Gap in Earnings per University'</span><span class="p">,</span><span class="w">
         </span><span class="n">xaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">showgrid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">),</span><span class="w">
         </span><span class="n">yaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">showgrid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">))</span><span class="w">
</span></code></pre></div>
<iframe src="https://plot.ly/~RPlotBot/3603.embed" width="800" height="600" id="igraph" scrolling="no" seamless="seamless" frameBorder="0"> </iframe>

<h3>Mapping a Color Variable (Categorical)</h3>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="s2">"https://raw.githubusercontent.com/plotly/datasets/master/school_earnings.csv"</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="o">$</span><span class="n">State</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.factor</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s1">'Massachusetts'</span><span class="p">,</span><span class="w"> </span><span class="s1">'California'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Massachusetts'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Pennsylvania'</span><span class="p">,</span><span class="w"> </span><span class="s1">'New Jersey'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Illinois'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Washington DC'</span><span class="p">,</span><span class="w">
                          </span><span class="s1">'Massachusetts'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Connecticut'</span><span class="p">,</span><span class="w"> </span><span class="s1">'New York'</span><span class="p">,</span><span class="w"> </span><span class="s1">'North Carolina'</span><span class="p">,</span><span class="w"> </span><span class="s1">'New Hampshire'</span><span class="p">,</span><span class="w"> </span><span class="s1">'New York'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Indiana'</span><span class="p">,</span><span class="w">
                          </span><span class="s1">'New York'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Michigan'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Rhode Island'</span><span class="p">,</span><span class="w"> </span><span class="s1">'California'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Georgia'</span><span class="p">,</span><span class="w"> </span><span class="s1">'California'</span><span class="p">,</span><span class="w"> </span><span class="s1">'California'</span><span class="p">))</span><span class="w">

</span><span class="n">plot_ly</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">Women</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">Men</span><span class="p">,</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">School</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'scatter'</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'markers'</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">gap</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">State</span><span class="p">,</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Paired'</span><span class="p">,</span><span class="w">
        </span><span class="n">marker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">opacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.5</span><span class="p">,</span><span class="w"> </span><span class="n">sizemode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'diameter'</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Gender Gap in Earnings per University'</span><span class="p">,</span><span class="w">
         </span><span class="n">xaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">showgrid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">),</span><span class="w">
         </span><span class="n">yaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">showgrid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">),</span><span class="w">
         </span><span class="n">showlegend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span></code></pre></div>
<iframe src="https://plot.ly/~RPlotBot/3605.embed" width="800" height="600" id="igraph" scrolling="no" seamless="seamless" frameBorder="0"> </iframe>

<h3>Scaling the Size of Bubble Charts</h3>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="s2">"https://raw.githubusercontent.com/plotly/datasets/master/school_earnings.csv"</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="o">$</span><span class="n">State</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.factor</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s1">'Massachusetts'</span><span class="p">,</span><span class="w"> </span><span class="s1">'California'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Massachusetts'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Pennsylvania'</span><span class="p">,</span><span class="w"> </span><span class="s1">'New Jersey'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Illinois'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Washington DC'</span><span class="p">,</span><span class="w">
                          </span><span class="s1">'Massachusetts'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Connecticut'</span><span class="p">,</span><span class="w"> </span><span class="s1">'New York'</span><span class="p">,</span><span class="w"> </span><span class="s1">'North Carolina'</span><span class="p">,</span><span class="w"> </span><span class="s1">'New Hampshire'</span><span class="p">,</span><span class="w"> </span><span class="s1">'New York'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Indiana'</span><span class="p">,</span><span class="w">
                          </span><span class="s1">'New York'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Michigan'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Rhode Island'</span><span class="p">,</span><span class="w"> </span><span class="s1">'California'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Georgia'</span><span class="p">,</span><span class="w"> </span><span class="s1">'California'</span><span class="p">,</span><span class="w"> </span><span class="s1">'California'</span><span class="p">))</span><span class="w">

</span><span class="n">plot_ly</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">Women</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">Men</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'scatter'</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'markers'</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">gap</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">State</span><span class="p">,</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Paired'</span><span class="p">,</span><span class="w">
        </span><span class="n">marker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">opacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.5</span><span class="p">,</span><span class="w"> </span><span class="n">sizemode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'diameter'</span><span class="p">,</span><span class="w">
                </span><span class="c1">#Controlling for the size of the bubbles:
</span><span class="w">                </span><span class="n">sizeref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1.5</span><span class="p">),</span><span class="w">
        </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">paste</span><span class="p">(</span><span class="s1">'School:'</span><span class="p">,</span><span class="w"> </span><span class="n">School</span><span class="p">,</span><span class="w"> </span><span class="s1">'&lt;br&gt;Gender gap:'</span><span class="p">,</span><span class="w"> </span><span class="n">gap</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Gender Gap in Earnings per University'</span><span class="p">,</span><span class="w">
         </span><span class="n">xaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">showgrid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">),</span><span class="w">
         </span><span class="n">yaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">showgrid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">),</span><span class="w">
         </span><span class="n">showlegend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span></code></pre></div>
<iframe src="https://plot.ly/~RPlotBot/3607.embed" width="800" height="600" id="igraph" scrolling="no" seamless="seamless" frameBorder="0"> </iframe>

<h3>Hover Text with Bubble Charts</h3>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="s2">"https://raw.githubusercontent.com/plotly/datasets/master/school_earnings.csv"</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="o">$</span><span class="n">State</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.factor</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s1">'Massachusetts'</span><span class="p">,</span><span class="w"> </span><span class="s1">'California'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Massachusetts'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Pennsylvania'</span><span class="p">,</span><span class="w"> </span><span class="s1">'New Jersey'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Illinois'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Washington DC'</span><span class="p">,</span><span class="w">
                          </span><span class="s1">'Massachusetts'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Connecticut'</span><span class="p">,</span><span class="w"> </span><span class="s1">'New York'</span><span class="p">,</span><span class="w"> </span><span class="s1">'North Carolina'</span><span class="p">,</span><span class="w"> </span><span class="s1">'New Hampshire'</span><span class="p">,</span><span class="w"> </span><span class="s1">'New York'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Indiana'</span><span class="p">,</span><span class="w">
                          </span><span class="s1">'New York'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Michigan'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Rhode Island'</span><span class="p">,</span><span class="w"> </span><span class="s1">'California'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Georgia'</span><span class="p">,</span><span class="w"> </span><span class="s1">'California'</span><span class="p">,</span><span class="w"> </span><span class="s1">'California'</span><span class="p">))</span><span class="w">

</span><span class="n">plot_ly</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">Women</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">Men</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'scatter'</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'markers'</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">gap</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">State</span><span class="p">,</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Paired'</span><span class="p">,</span><span class="w">
        </span><span class="n">marker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">opacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.5</span><span class="p">,</span><span class="w"> </span><span class="n">sizemode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'diameter'</span><span class="p">,</span><span class="w">
        </span><span class="n">sizeref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1.5</span><span class="p">),</span><span class="w">
        </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">paste</span><span class="p">(</span><span class="s1">'School:'</span><span class="p">,</span><span class="w"> </span><span class="n">School</span><span class="p">,</span><span class="w"> </span><span class="s1">'&lt;br&gt;Gender gap:'</span><span class="p">,</span><span class="w"> </span><span class="n">gap</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Gender Gap in Earnings per University'</span><span class="p">,</span><span class="w">
         </span><span class="n">xaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">showgrid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">),</span><span class="w">
         </span><span class="n">yaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">showgrid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">),</span><span class="w">
         </span><span class="n">showlegend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span></code></pre></div>
<iframe src="https://plot.ly/~RPlotBot/3609.embed" width="800" height="600" id="igraph" scrolling="no" seamless="seamless" frameBorder="0"> </iframe>

<h3>Styled Buble Chart</h3>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="s2">"https://raw.githubusercontent.com/plotly/datasets/master/gapminderDataFiveYear.csv"</span><span class="p">)</span><span class="w">

</span><span class="n">data_2007</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">which</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">year</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">2007</span><span class="p">),]</span><span class="w">
</span><span class="n">data_2007</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data_2007</span><span class="p">[</span><span class="n">order</span><span class="p">(</span><span class="n">data_2007</span><span class="o">$</span><span class="n">continent</span><span class="p">,</span><span class="w"> </span><span class="n">data_2007</span><span class="o">$</span><span class="n">country</span><span class="p">),]</span><span class="w">
</span><span class="n">slope</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">2.666051223553066e-05</span><span class="w">
</span><span class="n">data_2007</span><span class="o">$</span><span class="n">size</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">sqrt</span><span class="p">(</span><span class="n">data_2007</span><span class="o">$</span><span class="n">pop</span><span class="o">*</span><span class="n">slope</span><span class="p">)</span><span class="w">
</span><span class="n">colors</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'#4AC6B7'</span><span class="p">,</span><span class="w"> </span><span class="s1">'#1972A4'</span><span class="p">,</span><span class="w"> </span><span class="s1">'#965F8A'</span><span class="p">,</span><span class="w"> </span><span class="s1">'#FF7070'</span><span class="p">,</span><span class="w"> </span><span class="s1">'#C61951'</span><span class="p">)</span><span class="w">

</span><span class="n">plot_ly</span><span class="p">(</span><span class="n">data_2007</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">gdpPercap</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">lifeExp</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">continent</span><span class="p">,</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">colors</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'scatter'</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'markers'</span><span class="p">,</span><span class="w">
        </span><span class="n">marker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">symbol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'circle'</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">sizemode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'diameter'</span><span class="p">,</span><span class="w"> </span><span class="n">sizeref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.85</span><span class="p">,</span><span class="w">
                      </span><span class="n">line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'#FFFFFF'</span><span class="p">)),</span><span class="w">
        </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">paste</span><span class="p">(</span><span class="s1">'Country:'</span><span class="p">,</span><span class="w"> </span><span class="n">country</span><span class="p">,</span><span class="w"> </span><span class="s1">'&lt;br&gt;Life Expectancy:'</span><span class="p">,</span><span class="w"> </span><span class="n">lifeExp</span><span class="p">,</span><span class="w"> </span><span class="s1">'&lt;br&gt;GDP:'</span><span class="p">,</span><span class="w"> </span><span class="n">gdpPercap</span><span class="p">,</span><span class="w">
                      </span><span class="s1">'&lt;br&gt;Pop.:'</span><span class="p">,</span><span class="w"> </span><span class="n">pop</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Life Expectancy v. Per Capita GDP, 2007'</span><span class="p">,</span><span class="w">
         </span><span class="n">xaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'GDP per capita (2000 dollars)'</span><span class="p">,</span><span class="w">
                      </span><span class="n">gridcolor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'rgb(255, 255, 255)'</span><span class="p">,</span><span class="w">
                      </span><span class="n">range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">2.003297660701705</span><span class="p">,</span><span class="w"> </span><span class="m">5.191505530708712</span><span class="p">),</span><span class="w">
                      </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'log'</span><span class="p">,</span><span class="w">
                      </span><span class="n">zerolinewidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w">
                      </span><span class="n">ticklen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w">
                      </span><span class="n">gridwidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">),</span><span class="w">
         </span><span class="n">yaxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Life Expectancy (years)'</span><span class="p">,</span><span class="w">
                      </span><span class="n">gridcolor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'rgb(255, 255, 255)'</span><span class="p">,</span><span class="w">
                      </span><span class="n">range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">36.12621671352166</span><span class="p">,</span><span class="w"> </span><span class="m">91.72921793264332</span><span class="p">),</span><span class="w">
                      </span><span class="n">zerolinewidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w">
                      </span><span class="n">ticklen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w">
                      </span><span class="n">gridwith</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">),</span><span class="w">
         </span><span class="n">paper_bgcolor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'rgb(243, 243, 243)'</span><span class="p">,</span><span class="w">
         </span><span class="n">plot_bgcolor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'rgb(243, 243, 243)'</span><span class="p">)</span><span class="w">
</span></code></pre></div>
<iframe src="https://plot.ly/~RPlotBot/3611.embed" width="800" height="600" id="igraph" scrolling="no" seamless="seamless" frameBorder="0"> </iframe>

<h1>Reference</h1>

<p>See <a href="https://plot.ly/r/reference/#scatter">https://plot.ly/r/reference/#scatter</a> for more information and chart attribute options!</p>
